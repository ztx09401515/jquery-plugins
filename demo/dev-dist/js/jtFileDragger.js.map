{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./demo/jt-file-dragger/entry.js","webpack:///./src/appendLink/appendLink.js","webpack:///./src/component/component.ts","webpack:///./src/jt-file-dragger/jt-file-dragger.ts","webpack:///./src/jt-file-dragger/styles.css?28fa"],"names":["$","document","ready","jtFileDragger","fn","appendLink","children","contents","append","Component","props","constructor","defaultProps","container","re","classNames","classname","JtFileDragger","files","onFileChange","call","displayList","$list","remove","state","forEach","file","addClass","styles","fileItem","text","name","click","e","removeFile","mergeClassName","deleteBtn","multi","stateFiles","nStateFiles","stateFile","index","push","$input","val","handlerFileChange","rerangeList","multiCallback","singleCallback","i","length","find","measureFile","$btn","hide","$dragArea","show","board","createElement","$board","className","style","css","attr","accept","change","target","addFiles","upLoadCoverDragBox","on","originalEvent","preventDefault","upLoadDragOver","removeClass","dataTransfer","dropEffect","$dragContent","dragContent","uploadIcon","uploadBtn","dragArea","uploadFileList","options","each","el","dragger"],"mappings":"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","file":"js/jtFileDragger.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./demo/jt-file-dragger/entry.js\");\n","import '../../src/jt-file-dragger/jt-file-dragger.ts'\r\n\r\n$(document).ready(function () {\r\n    $('#root').jtFileDragger();\r\n})","/**\r\n * @author 杰瑞\r\n * @param children\r\n * @returns {JQuery<TElement extends Node> | jQuery | HTMLElement}\r\n */\r\n$.fn.appendLink=function (children) {\r\n    var contents;\r\n    if(typeof children==='string'){\r\n        contents=$(children)\r\n\r\n    }else{\r\n        contents=children;\r\n    }\r\n    this.append(contents)\r\n    return $(contents);\r\n\r\n}","\r\nclass Component {\r\n    props:any = {};\r\n    state = {};\r\n    container:HTMLElement;\r\n    constructor(props) {\r\n        this.props = this.constructor.defaultProps?{...this.constructor.defaultProps,...props}:props;\r\n        this.container=this.props.container;\r\n    }\r\n    mergeClassName(...classNames){\r\n        var re=''\r\n        for(var classname of  classNames){\r\n            re=classname?re+' '+classname:re;\r\n        }\r\n        return re;\r\n    }\r\n}\r\nexport declare interface CommonProps{\r\n    style?:object,\r\n    className?:string,\r\n    container:HTMLElement,\r\n}\r\nexport default Component","import Component, {CommonProps} from '../component/component.ts'\r\nimport '../appendLink/appendLink'\r\nimport styles from './styles.css'\r\n\r\n\r\ninterface JtFileDraggerProps extends CommonProps {\r\n    accept?: string,\r\n    multi?: boolean,\r\n    displayList?: boolean,\r\n    onFileChange?: (file: File[] | File) => void,\r\n    text?: string,\r\n    dragArea?: boolean,\r\n}\r\n\r\nclass JtFileDragger extends Component {\r\n    board = null;\r\n    static defaultProps = {\r\n        text: '上传文件',\r\n        displayList: true,\r\n        multi: false,\r\n        dragArea: true,\r\n    }\r\n    $input = null;\r\n    $dragArea = null;\r\n    $btn = null;\r\n    $list = null;\r\n    state = {\r\n        files: []\r\n    }\r\n\r\n    handlerFileChange(files) {\r\n        this.props.onFileChange ? this.props.onFileChange.call(this, files) : null\r\n    }\r\n\r\n    rerangeList() {\r\n        if (!this.props.displayList) {\r\n            return;\r\n        }\r\n        this.$list.children().remove();\r\n        this.state.files.forEach((file) => {\r\n            this.$list.appendLink('<div></div>').addClass(styles.fileItem).text(file.name).appendLink('<span></span>')\r\n                .click((e) => {\r\n                    this.removeFile(file);\r\n                })\r\n                .addClass(this.mergeClassName('fas fa-minus-circle', styles.deleteBtn));\r\n        })\r\n\r\n    }\r\n\r\n    removeFile(file) {\r\n        if (this.props.multi) {\r\n            var stateFiles = this.state.files;\r\n            if (stateFiles) {\r\n                var nStateFiles = [];\r\n                stateFiles.forEach((stateFile, index) => {\r\n                    if (stateFile !== file) {\r\n                        nStateFiles.push(stateFile);\r\n                    }\r\n                })\r\n                this.state.files = nStateFiles;\r\n                this.$input.val(null);\r\n                this.handlerFileChange(this.state.files)\r\n                this.rerangeList();\r\n            }\r\n        } else {\r\n            var stateFile = this.state.files[0];\r\n            if (stateFile && stateFile === file) {\r\n                this.state.files = [];\r\n                this.$input.val(null);\r\n                this.handlerFileChange(this.state.files[0])\r\n                this.rerangeList();\r\n            }\r\n        }\r\n    }\r\n\r\n    measureFile(files, multiCallback, singleCallback) {\r\n        if (this.props.multi) {\r\n            var stateFiles = this.state.files;\r\n            if (!stateFiles) {\r\n                stateFiles = [];\r\n            }\r\n            for (var i = 0; i < files.length; i++) {\r\n                var file = files[i]\r\n                if (!stateFiles.find((stateFile) => {\r\n                        return stateFile.name === file.name\r\n                    })) {\r\n                    stateFiles.push(file);\r\n                }\r\n            }\r\n            this.state.files = stateFiles;\r\n            this.$input.val(null);\r\n            this.handlerFileChange(this.state.files)\r\n            multiCallback ? multiCallback() : null;\r\n        } else {\r\n            var stateFile = this.state.files[0];\r\n            if (!stateFile || stateFile.name !== files[0].name) {\r\n                stateFile = files[0];\r\n            }\r\n            this.state.files = [stateFile]\r\n            this.$input.val(null);\r\n            this.handlerFileChange(this.state.files[0])\r\n            singleCallback ? singleCallback() : null;\r\n        }\r\n    }\r\n\r\n    addFiles(files) {\r\n        this.measureFile(files, () => {\r\n            this.rerangeList();\r\n        }, () => {\r\n            this.rerangeList();\r\n        })\r\n    }\r\n    showDragArea(){\r\n        this.$btn.hide();\r\n        this.$dragArea.show();\r\n    }\r\n    hideDragArea(){\r\n        this.$btn.show();\r\n        this.$dragArea.hide();\r\n    }\r\n    constructor(props: JtFileDraggerProps) {\r\n        super(props);\r\n        this.board = document.createElement('div');\r\n        $(props.container).append(this.board);\r\n        var $board = $(this.board), props = this.props;\r\n        $board.addClass(this.mergeClassName(props.className))\r\n        if (props.style)\r\n            $board.css(props.style);\r\n        this.$input = $board.appendLink('<input type=\"file\" hidden/>')\r\n            .attr('accept', props.accept).attr('multiple', this.props.multi)\r\n            .change((e) => {\r\n                var files = e.target.files;\r\n                this.addFiles(files);\r\n            });\r\n            this.$dragArea = $board.appendLink('<div></div>').addClass(styles.upLoadCoverDragBox)\r\n                .on('click',()=>{\r\n                    this.$input.click()\r\n                })\r\n                .on('dragenter', (e) => {\r\n                e.originalEvent.preventDefault()\r\n            }).on('dragover', (e) => {\r\n                e.originalEvent.preventDefault();\r\n                this.$dragArea.addClass(styles.upLoadDragOver)\r\n            }).on('dragleave', (e) => {\r\n                e.originalEvent.preventDefault();\r\n                this.$dragArea.removeClass(styles.upLoadDragOver)\r\n            }).on('drop', (e) => {\r\n                e.originalEvent.preventDefault()\r\n                this.$dragArea.removeClass(styles.upLoadDragOver)\r\n                e.originalEvent.dataTransfer.dropEffect = 'move';\r\n                var files = e.originalEvent.dataTransfer.files\r\n                this.addFiles(files)\r\n            });\r\n            var $dragContent = this.$dragArea.appendLink('<div></div>').addClass(styles.dragContent);\r\n            $dragContent.appendLink('<p></p>').addClass(this.mergeClassName('fas fa-upload', styles.uploadIcon));\r\n            $dragContent.appendLink('<p></p>').text(this.props.text);\r\n            $dragContent.appendLink('<p></p>').text('拖动到此处或点击');\r\n            this.$btn = $board.appendLink('<button></button>').addClass(styles.uploadBtn).text(this.props.text).click(() => {\r\n                this.$input.click();\r\n                return false;\r\n            })\r\n            if(this.props.dragArea){\r\n                this.$btn.hide();\r\n            }else{\r\n                this.$dragArea.hide();\r\n            }\r\n        if (this.props.displayList) {\r\n            this.$list = $board.appendLink('<div></div>').addClass(styles.uploadFileList);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n$.fn.jtFileDragger = function (options: any) {\r\n    var re=[];\r\n    this.each(function (index, el) {\r\n        var dragger=new JtFileDragger({container: el, ...options});\r\n        re.push(dragger)\r\n    })\r\n    return re;\r\n}\r\nexport default JtFileDragger;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"divider\",\"uploadBtn\":\"uploadBtn\",\"upLoadCoverDragBox\":\"upLoadCoverDragBox\",\"dragContent\":\"dragContent\",\"uploadIcon\":\"uploadIcon\",\"upLoadDragOver\":\"upLoadDragOver\",\"uploadFileList\":\"uploadFileList\",\"fileItem\":\"fileItem\",\"deleteBtn\":\"deleteBtn\"};"],"sourceRoot":""}