{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./demo/jtForm/entry.js","webpack:///./node_modules/async-validator/es/index.js","webpack:///./node_modules/async-validator/es/messages.js","webpack:///./node_modules/async-validator/es/rule/enum.js","webpack:///./node_modules/async-validator/es/rule/index.js","webpack:///./node_modules/async-validator/es/rule/pattern.js","webpack:///./node_modules/async-validator/es/rule/range.js","webpack:///./node_modules/async-validator/es/rule/required.js","webpack:///./node_modules/async-validator/es/rule/type.js","webpack:///./node_modules/async-validator/es/rule/whitespace.js","webpack:///./node_modules/async-validator/es/util.js","webpack:///./node_modules/async-validator/es/validator/array.js","webpack:///./node_modules/async-validator/es/validator/boolean.js","webpack:///./node_modules/async-validator/es/validator/date.js","webpack:///./node_modules/async-validator/es/validator/enum.js","webpack:///./node_modules/async-validator/es/validator/float.js","webpack:///./node_modules/async-validator/es/validator/index.js","webpack:///./node_modules/async-validator/es/validator/integer.js","webpack:///./node_modules/async-validator/es/validator/method.js","webpack:///./node_modules/async-validator/es/validator/number.js","webpack:///./node_modules/async-validator/es/validator/object.js","webpack:///./node_modules/async-validator/es/validator/pattern.js","webpack:///./node_modules/async-validator/es/validator/regexp.js","webpack:///./node_modules/async-validator/es/validator/required.js","webpack:///./node_modules/async-validator/es/validator/string.js","webpack:///./node_modules/async-validator/es/validator/type.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/cropper/dist/cropper.esm.js","webpack:///./node_modules/cropperjs/dist/cropper.css?8d64","webpack:///./src/appendLink/appendLink.js","webpack:///./src/component/component.ts","webpack:///./src/getFileURL/getFileURL.js","webpack:///./src/jt-file-dragger/jt-file-dragger.ts","webpack:///./src/jt-file-dragger/styles.css?28fa","webpack:///./src/jtCropper/jtCropper.css?dc7d","webpack:///./src/jtCropper/jtCropper.ts","webpack:///./src/jtForm/jtForm.css?3ebd","webpack:///./src/jtForm/jtForm.ts","webpack:///external \"$\""],"names":["$","document","ready","jtForm","map","name","type","label","rules","required","message","fieldProps","layout","field","pattern","accept","Schema","descriptor","_messages","defaultMessages","define","prototype","messages","Error","Array","isArray","z","item","hasOwnProperty","validate","source_","_this","o","arguments","length","undefined","oc","source","options","callback","Object","keys","complete","results","i","errors","fields","add","e","concat","apply","push","arr","value","series","forEach","r","rule","transform","validator","getValidationMethod","fullField","getType","errorFields","data","doIt","deep","defaultField","addFullfield","key","schema","cb","first","error","fieldsSchema","k","f","fieldSchema","bind","errs","res","then","RegExp","validators","messageIndex","indexOf","splice","register","newMessages","whitespace","date","format","parse","invalid","types","string","method","array","object","number","boolean","integer","float","regexp","email","url","hex","len","min","max","range","mismatch","clone","cloned","JSON","stringify","ENUM","enumerable","util","join","enumRule","lastIndex","test","_pattern","val","num","str","isEmptyValue","parseInt","getTime","getMonth","getYear","isNaN","match","custom","ruleType","formatRegExp","warning","window","console","warn","every","_len","args","_key","slice","String","replace","x","Number","_","arg","isNativeStringType","isEmptyObject","obj","asyncParallelArray","func","total","arrLength","count","a","asyncSerialArray","index","next","original","flattenObjArr","objArr","ret","asyncMap","option","flattenArr","firstFields","objArrKeys","objArrLength","complementError","oe","deepMerge","target","s","floatFn","enumValidator","module","exports","require","__esModule","_assign","_assign2","_interopRequireDefault","default","call","_iterator","_iterator2","_symbol","_symbol2","_typeof","constructor","assign","Symbol","it","TypeError","isObject","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","O","toString","core","version","__e","aFunction","fn","that","b","c","defineProperty","get","is","createElement","split","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","global","ctx","hide","has","PROTOTYPE","$export","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","own","out","C","Function","virtual","R","U","exec","Math","self","__g","dP","createDesc","documentElement","cof","propertyIsEnumerable","create","setToStringTag","IteratorPrototype","Constructor","NAME","LIBRARY","redefine","Iterators","$iterCreate","getPrototypeOf","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","values","entries","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","done","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","toObject","IObject","$assign","A","K","T","aLen","j","anObject","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","src","contentWindow","open","write","close","Properties","IE8_DOM_DEFINE","toPrimitive","Attributes","defineProperties","gOPD","getOwnPropertyDescriptor","gOPN","windowNames","getOwnPropertyNames","getWindowNames","$keys","hiddenKeys","getOwnPropertySymbols","ObjectProto","arrayIndexOf","names","bitmap","configurable","writable","def","tag","stat","shared","uid","SHARED","store","mode","copyright","toInteger","defined","TO_STRING","pos","l","charCodeAt","charAt","ceil","floor","valueOf","px","random","wksExt","$Symbol","USE_SYMBOL","$exports","addToUnscopables","step","iterated","_t","_i","_k","Arguments","$at","point","DESCRIPTORS","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$DP","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","replacer","$replacer","TO_STRING_TAG","DOMIterables","Collection","IN_BROWSER","WINDOW","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_LOAD","EVENT_POINTER_DOWN","PointerEvent","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","DEFAULTS","viewMode","dragMode","aspectRatio","NaN","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","cropstart","cropmove","cropend","crop","zoom","TEMPLATE","classCallCheck","instance","createClass","props","protoProps","staticProps","toConsumableArray","arr2","from","isNumber","isUndefined","isPlainObject","_constructor","isFunction","REGEXP_DECIMALS","normalizeDecimalNumber","times","round","REGEXP_SUFFIX","setStyle","element","styles","property","hasClass","classList","contains","className","addClass","elem","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","removeData","removeAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","get$$1","set$$1","addEventListener","removeEventListener","removeListener","handler","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","parts","protocol","hostname","port","addTimestamp","timestamp","Date","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","_ref3","isFinite","getAdjustedSizes","_ref4","height","width","isValidNumber","adjustedWidth","getRotatedSizes","_ref5","degree","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","Infinity","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","context","getContext","maxSizes","minSizes","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","scale","drawImage","param","fromCharCode","getStringFromCharCode","dataView","start","getUint8","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","arrayBufferToDataURL","mimeType","btoa","getOrientation","DataView","orientation","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_length","_offset","setUint16","parseOrientation","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","oldLeft","oldTop","limited","limitCanvas","initialImageData","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","viewBox","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","img","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","onCropStart","cropStart","onWheel","wheel","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","getCanvasData","getCropBoxData","setCanvasData","n","setCropBoxData","setDragMode","dragBox","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","y","check","side","move","p","reset","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","rotateTo","_scaleX","_scaleY","getData$$1","rounded","setData$$1","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","_getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","sourceWidth","sourceHeight","srcX","srcY","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","setAspectRatio","croppable","AnotherCropper","Cropper","tagName","reloading","sizing","init","toDataURL","read","xhr","XMLHttpRequest","ontimeout","onabort","onerror","onload","response","responseType","withCredentials","send","_parseOrientation","stop","onStart","onStop","timeout","parentNode","insertBefore","nextSibling","_this2","IS_SAFARI","navigator","userAgent","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","abort","clearTimeout","noConflict","setDefaults","AnotherCropper$1","NAMESPACE$1","jQueryCropper","each","$element","isDestroy","extend","appendLink","children","contents","append","Component","defaultProps","re","classNames","classname","getFileURL","fileorinput","URL","createObjectURL","JtFileDragger","files","onFileChange","displayList","$list","state","file","fileItem","text","click","removeFile","mergeClassName","deleteBtn","multi","stateFiles","nStateFiles","stateFile","$input","handlerFileChange","rerangeList","multiCallback","singleCallback","find","measureFile","$btn","$dragArea","show","board","$board","css","attr","addFiles","upLoadCoverDragBox","on","upLoadDragOver","dataTransfer","dropEffect","$dragContent","dragContent","uploadIcon","uploadBtn","dragArea","uploadFileList","jtFileDragger","dragger","JtCropper","base64str","imageEl","handleChange","onChange","jtCropperBoard","previewEl","cropperOptions","hideDragArea","$cropperContainer","submitContainer","submitBtn","submitImage","jtCropperImageContainer","cropperCanvasContainer","previewContianer","previewContent","jtCropper","JtForm","validateSchema","validateFirst","validateFirstFields","log","tarerror","formData","$fieldWrap","$fieldMessage","$rootEl","initialValue","validateObj","$formItem","position","widthRatio","jtFormItem","labelRat","defaultLayout","$labelWrap","jtFormLabelWrap","textAlign","$label","labelContent","requiredRule","fieldRat","jtFormFieldWrap","marginLeft","errorMessage","$fieldCheck","fieldCheck","$field","jtFormField","trigger","validateTrigger","va","attrIndex","fileProps","jtFormBoard","$row","jtFormRow","eachField","ruleGen","submitBtnRow","submitText"],"mappings":"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","file":"js/jtForm.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./demo/jtForm/entry.js\");\n","import '../../src/jtForm/jtForm.ts'\r\n$(document).ready(function () {\r\n    $('#root').jtForm({map:[\r\n        {\r\n            name:'username',\r\n            type:'text',\r\n            label:'用户名:',\r\n            rules:{\r\n                type:'string',\r\n                required:true,\r\n                message:'用户名不能为空',\r\n            }\r\n        },\r\n        {\r\n            name:'password',\r\n            type:'text',\r\n            fieldProps:{\r\n              type:'password'\r\n            },\r\n            label:'密码:',\r\n            rules:{\r\n                type:'string',\r\n                required:true,\r\n                message:'密码必填',\r\n            }\r\n        },\r\n        [{\r\n            name:'nickname',\r\n            type:'text',\r\n            fieldProps:{\r\n                type:'text'\r\n            },\r\n            label:'昵称:',\r\n            layout:{label:0.2,field:0.8},\r\n            rules:{\r\n                type:'string',\r\n                message:'不接受符号',\r\n                pattern:/^\\w*$/,\r\n            }\r\n        },\r\n            {\r\n                name:'email',\r\n                type:'text',\r\n                fieldProps:{\r\n                    type:'text'\r\n                },\r\n                label:'email:',\r\n                layout:{label:0.15,field:0.8},\r\n                rules:{\r\n                    type:'string',\r\n                    message:'格式不正确',\r\n                    pattern:/^\\w+@\\w+\\.\\w+$/,\r\n                }\r\n            }\r\n        ],\r\n\r\n        {\r\n            name:'imageFile',\r\n            type:'file',\r\n            fieldProps:{\r\n                accept:'image/*'\r\n            },\r\n            label:'图片文件:',\r\n            rules:{\r\n                required:true,\r\n                message:'图片文件必填',\r\n            }\r\n        },\r\n        {\r\n            name:'cropperImage',\r\n            type:'image',\r\n\r\n            label:'截图',\r\n            rules:{\r\n                required:true,\r\n                message:'截图必填',\r\n            }\r\n        },\r\n    ]})\r\n})\r\n","import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport { format, complementError, asyncMap, warning, deepMerge } from './util';\nimport validators from './validator/';\nimport { messages as defaultMessages, newMessages } from './messages';\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\nfunction Schema(descriptor) {\n  this.rules = null;\n  this._messages = defaultMessages;\n  this.define(descriptor);\n}\n\nSchema.prototype = {\n  messages: function messages(_messages) {\n    if (_messages) {\n      this._messages = deepMerge(newMessages(), _messages);\n    }\n    return this._messages;\n  },\n  define: function define(rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n    if ((typeof rules === 'undefined' ? 'undefined' : _typeof(rules)) !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n    this.rules = {};\n    var z = void 0;\n    var item = void 0;\n    for (z in rules) {\n      if (rules.hasOwnProperty(z)) {\n        item = rules[z];\n        this.rules[z] = Array.isArray(item) ? item : [item];\n      }\n    }\n  },\n  validate: function validate(source_) {\n    var _this = this;\n\n    var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var oc = arguments[2];\n\n    var source = source_;\n    var options = o;\n    var callback = oc;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback();\n      }\n      return;\n    }\n    function complete(results) {\n      var i = void 0;\n      var field = void 0;\n      var errors = [];\n      var fields = {};\n\n      function add(e) {\n        if (Array.isArray(e)) {\n          errors = errors.concat.apply(errors, e);\n        } else {\n          errors.push(e);\n        }\n      }\n\n      for (i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n      if (!errors.length) {\n        errors = null;\n        fields = null;\n      } else {\n        for (i = 0; i < errors.length; i++) {\n          field = errors[i].field;\n          fields[field] = fields[field] || [];\n          fields[field].push(errors[i]);\n        }\n      }\n      callback(errors, fields);\n    }\n\n    if (options.messages) {\n      var messages = this.messages();\n      if (messages === defaultMessages) {\n        messages = newMessages();\n      }\n      deepMerge(messages, options.messages);\n      options.messages = messages;\n    } else {\n      options.messages = this.messages();\n    }\n    var arr = void 0;\n    var value = void 0;\n    var series = {};\n    var keys = options.keys || Object.keys(this.rules);\n    keys.forEach(function (z) {\n      arr = _this.rules[z];\n      value = source[z];\n      arr.forEach(function (r) {\n        var rule = r;\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = _extends({}, source);\n          }\n          value = source[z] = rule.transform(value);\n        }\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule\n          };\n        } else {\n          rule = _extends({}, rule);\n        }\n        rule.validator = _this.getValidationMethod(rule);\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = _this.getType(rule);\n        if (!rule.validator) {\n          return;\n        }\n        series[z] = series[z] || [];\n        series[z].push({\n          rule: rule,\n          value: value,\n          source: source,\n          field: z\n        });\n      });\n    });\n    var errorFields = {};\n    asyncMap(series, options, function (data, doIt) {\n      var rule = data.rule;\n      var deep = (rule.type === 'object' || rule.type === 'array') && (_typeof(rule.fields) === 'object' || _typeof(rule.defaultField) === 'object');\n      deep = deep && (rule.required || !rule.required && data.value);\n      rule.field = data.field;\n      function addFullfield(key, schema) {\n        return _extends({}, schema, {\n          fullField: rule.fullField + '.' + key\n        });\n      }\n\n      function cb() {\n        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        var errors = e;\n        if (!Array.isArray(errors)) {\n          errors = [errors];\n        }\n        if (errors.length) {\n          warning('async-validator:', errors);\n        }\n        if (errors.length && rule.message) {\n          errors = [].concat(rule.message);\n        }\n\n        errors = errors.map(complementError(rule));\n\n        if (options.first && errors.length) {\n          errorFields[rule.field] = 1;\n          return doIt(errors);\n        }\n        if (!deep) {\n          doIt(errors);\n        } else {\n          // if rule is required but the target object\n          // does not exist fail at the rule level and don't\n          // go deeper\n          if (rule.required && !data.value) {\n            if (rule.message) {\n              errors = [].concat(rule.message).map(complementError(rule));\n            } else if (options.error) {\n              errors = [options.error(rule, format(options.messages.required, rule.field))];\n            } else {\n              errors = [];\n            }\n            return doIt(errors);\n          }\n\n          var fieldsSchema = {};\n          if (rule.defaultField) {\n            for (var k in data.value) {\n              if (data.value.hasOwnProperty(k)) {\n                fieldsSchema[k] = rule.defaultField;\n              }\n            }\n          }\n          fieldsSchema = _extends({}, fieldsSchema, data.rule.fields);\n          for (var f in fieldsSchema) {\n            if (fieldsSchema.hasOwnProperty(f)) {\n              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];\n              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));\n            }\n          }\n          var schema = new Schema(fieldsSchema);\n          schema.messages(options.messages);\n          if (data.rule.options) {\n            data.rule.options.messages = options.messages;\n            data.rule.options.error = options.error;\n          }\n          schema.validate(data.value, data.rule.options || options, function (errs) {\n            doIt(errs && errs.length ? errors.concat(errs) : errs);\n          });\n        }\n      }\n\n      var res = rule.validator(rule, data.value, cb, data.source, options);\n      if (res && res.then) {\n        res.then(function () {\n          return cb();\n        }, function (e) {\n          return cb(e);\n        });\n      }\n    }, function (results) {\n      complete(results);\n    });\n  },\n  getType: function getType(rule) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n    if (typeof rule.validator !== 'function' && rule.type && !validators.hasOwnProperty(rule.type)) {\n      throw new Error(format('Unknown rule type %s', rule.type));\n    }\n    return rule.type || 'string';\n  },\n  getValidationMethod: function getValidationMethod(rule) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n    var keys = Object.keys(rule);\n    var messageIndex = keys.indexOf('message');\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n    if (keys.length === 1 && keys[0] === 'required') {\n      return validators.required;\n    }\n    return validators[this.getType(rule)] || false;\n  }\n};\n\nSchema.register = function register(type, validator) {\n  if (typeof validator !== 'function') {\n    throw new Error('Cannot register a validator by type, validator is not a function');\n  }\n  validators[type] = validator;\n};\n\nSchema.messages = defaultMessages;\n\nexport default Schema;","export function newMessages() {\n  return {\n    'default': 'Validation error on field %s',\n    required: '%s is required',\n    'enum': '%s must be one of %s',\n    whitespace: '%s cannot be empty',\n    date: {\n      format: '%s date %s is invalid for format %s',\n      parse: '%s date could not be parsed, %s is invalid ',\n      invalid: '%s date %s is invalid'\n    },\n    types: {\n      string: '%s is not a %s',\n      method: '%s is not a %s (function)',\n      array: '%s is not an %s',\n      object: '%s is not an %s',\n      number: '%s is not a %s',\n      date: '%s is not a %s',\n      boolean: '%s is not a %s',\n      integer: '%s is not an %s',\n      float: '%s is not a %s',\n      regexp: '%s is not a valid %s',\n      email: '%s is not a valid %s',\n      url: '%s is not a valid %s',\n      hex: '%s is not a valid %s'\n    },\n    string: {\n      len: '%s must be exactly %s characters',\n      min: '%s must be at least %s characters',\n      max: '%s cannot be longer than %s characters',\n      range: '%s must be between %s and %s characters'\n    },\n    number: {\n      len: '%s must equal %s',\n      min: '%s cannot be less than %s',\n      max: '%s cannot be greater than %s',\n      range: '%s must be between %s and %s'\n    },\n    array: {\n      len: '%s must be exactly %s in length',\n      min: '%s cannot be less than %s in length',\n      max: '%s cannot be greater than %s in length',\n      range: '%s must be between %s and %s in length'\n    },\n    pattern: {\n      mismatch: '%s value %s does not match pattern %s'\n    },\n    clone: function clone() {\n      var cloned = JSON.parse(JSON.stringify(this));\n      cloned.clone = this.clone;\n      return cloned;\n    }\n  };\n}\n\nexport var messages = newMessages();","import * as util from '../util';\nvar ENUM = 'enum';\n\n/**\n *  Rule for validating a value exists in an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction enumerable(rule, value, source, errors, options) {\n  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];\n  if (rule[ENUM].indexOf(value) === -1) {\n    errors.push(util.format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')));\n  }\n}\n\nexport default enumerable;","import required from './required';\nimport whitespace from './whitespace';\nimport type from './type';\nimport range from './range';\nimport enumRule from './enum';\nimport pattern from './pattern';\n\nexport default {\n  required: required,\n  whitespace: whitespace,\n  type: type,\n  range: range,\n  'enum': enumRule,\n  pattern: pattern\n};","import * as util from '../util';\n\n/**\n *  Rule for validating a regular expression pattern.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction pattern(rule, value, source, errors, options) {\n  if (rule.pattern) {\n    if (rule.pattern instanceof RegExp) {\n      // if a RegExp instance is passed, reset `lastIndex` in case its `global`\n      // flag is accidentally set to `true`, which in a validation scenario\n      // is not necessary and the result might be misleading\n      rule.pattern.lastIndex = 0;\n      if (!rule.pattern.test(value)) {\n        errors.push(util.format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    } else if (typeof rule.pattern === 'string') {\n      var _pattern = new RegExp(rule.pattern);\n      if (!_pattern.test(value)) {\n        errors.push(util.format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    }\n  }\n}\n\nexport default pattern;","import * as util from '../util';\n\n/**\n *  Rule for validating minimum and maximum allowed values.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction range(rule, value, source, errors, options) {\n  var len = typeof rule.len === 'number';\n  var min = typeof rule.min === 'number';\n  var max = typeof rule.max === 'number';\n  var val = value;\n  var key = null;\n  var num = typeof value === 'number';\n  var str = typeof value === 'string';\n  var arr = Array.isArray(value);\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  }\n  // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n  if (!key) {\n    return false;\n  }\n  if (str || arr) {\n    val = value.length;\n  }\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(util.format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(util.format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(util.format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(util.format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n  }\n}\n\nexport default range;","import * as util from '../util';\n\n/**\n *  Rule for validating required fields.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction required(rule, value, source, errors, options, type) {\n  if (rule.required && (!source.hasOwnProperty(rule.field) || util.isEmptyValue(value, type || rule.type))) {\n    errors.push(util.format(options.messages.required, rule.fullField));\n  }\n}\n\nexport default required;","import _typeof from 'babel-runtime/helpers/typeof';\nimport * as util from '../util';\nimport required from './required';\n\n/* eslint max-len:0 */\n\nvar pattern = {\n  // http://emailregex.com/\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n  url: new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$', 'i'),\n  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i\n};\n\nvar types = {\n  integer: function integer(value) {\n    return types.number(value) && parseInt(value, 10) === value;\n  },\n  float: function float(value) {\n    return types.number(value) && !types.integer(value);\n  },\n  array: function array(value) {\n    return Array.isArray(value);\n  },\n  regexp: function regexp(value) {\n    if (value instanceof RegExp) {\n      return true;\n    }\n    try {\n      return !!new RegExp(value);\n    } catch (e) {\n      return false;\n    }\n  },\n  date: function date(value) {\n    return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear === 'function';\n  },\n  number: function number(value) {\n    if (isNaN(value)) {\n      return false;\n    }\n    return typeof value === 'number';\n  },\n  object: function object(value) {\n    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !types.array(value);\n  },\n  method: function method(value) {\n    return typeof value === 'function';\n  },\n  email: function email(value) {\n    return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;\n  },\n  url: function url(value) {\n    return typeof value === 'string' && !!value.match(pattern.url);\n  },\n  hex: function hex(value) {\n    return typeof value === 'string' && !!value.match(pattern.hex);\n  }\n};\n\n/**\n *  Rule for validating the type of a value.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction type(rule, value, source, errors, options) {\n  if (rule.required && value === undefined) {\n    required(rule, value, source, errors, options);\n    return;\n  }\n  var custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'];\n  var ruleType = rule.type;\n  if (custom.indexOf(ruleType) > -1) {\n    if (!types[ruleType](value)) {\n      errors.push(util.format(options.messages.types[ruleType], rule.fullField, rule.type));\n    }\n    // straight typeof check\n  } else if (ruleType && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== rule.type) {\n    errors.push(util.format(options.messages.types[ruleType], rule.fullField, rule.type));\n  }\n}\n\nexport default type;","import * as util from '../util';\n\n/**\n *  Rule for validating whitespace.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction whitespace(rule, value, source, errors, options) {\n  if (/^\\s+$/.test(value) || value === '') {\n    errors.push(util.format(options.messages.whitespace, rule.fullField));\n  }\n}\n\nexport default whitespace;","import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nvar formatRegExp = /%[sdj%]/g;\n\nexport var warning = function warning() {};\n\n// don't print warning message when in production env or node runtime\nif (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nexport function format() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]);\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    for (var arg = args[i]; i < len; arg = args[++i]) {\n      str += ' ' + arg;\n    }\n    return str;\n  }\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';\n}\n\nexport function isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\n\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    var original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nexport function asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var flattenArr = flattenObjArr(objArr);\n    return asyncSerialArray(flattenArr, func, callback);\n  }\n  var firstFields = option.firstFields || [];\n  if (firstFields === true) {\n    firstFields = Object.keys(objArr);\n  }\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var next = function next(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === objArrLength) {\n      callback(results);\n    }\n  };\n  objArrKeys.forEach(function (key) {\n    var arr = objArr[key];\n    if (firstFields.indexOf(key) !== -1) {\n      asyncSerialArray(arr, func, next);\n    } else {\n      asyncParallelArray(arr, func, next);\n    }\n  });\n}\n\nexport function complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n    return {\n      message: oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\n\nexport function deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(target[s]) === 'object') {\n          target[s] = _extends({}, target[s], value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n/**\n *  Validates an array.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction array(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value, 'array') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, 'array');\n    if (!isEmptyValue(value, 'array')) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default array;","import { isEmptyValue } from '../util';\nimport rules from '../rule/';\n\n/**\n *  Validates a boolean.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction boolean(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default boolean;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\nfunction date(rule, value, callback, source, options) {\n  // console.log('integer rule called %j', rule);\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  // console.log('validate on %s value', value);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value)) {\n      rules.type(rule, value, source, errors, options);\n      if (value) {\n        rules.range(rule, value.getTime(), source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n}\n\nexport default date;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\nvar ENUM = 'enum';\n\n/**\n *  Validates an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction enumerable(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value) {\n      rules[ENUM](rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default enumerable;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates a number is a floating point number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction floatFn(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default floatFn;","import string from './string';\nimport method from './method';\nimport number from './number';\nimport boolean from './boolean';\nimport regexp from './regexp';\nimport integer from './integer';\nimport float from './float';\nimport array from './array';\nimport object from './object';\nimport enumValidator from './enum';\nimport pattern from './pattern';\nimport date from './date';\nimport required from './required';\nimport type from './type';\n\nexport default {\n  string: string,\n  method: method,\n  number: number,\n  boolean: boolean,\n  regexp: regexp,\n  integer: integer,\n  float: float,\n  array: array,\n  object: object,\n  'enum': enumValidator,\n  pattern: pattern,\n  date: date,\n  url: type,\n  hex: type,\n  email: type,\n  required: required\n};","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates a number is an integer.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction integer(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default integer;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates a function.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction method(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default method;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates a number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction number(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default number;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates an object.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction object(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default object;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates a regular expression pattern.\n *\n *  Performs validation when a rule only contains\n *  a pattern property but is not declared as a string type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction pattern(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value, 'string')) {\n      rules.pattern(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default pattern;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Validates the regular expression type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction regexp(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default regexp;","import _typeof from 'babel-runtime/helpers/typeof';\nimport rules from '../rule/';\n\nfunction required(rule, value, callback, source, options) {\n  var errors = [];\n  var type = Array.isArray(value) ? 'array' : typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  rules.required(rule, value, source, errors, options, type);\n  callback(errors);\n}\n\nexport default required;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\n/**\n *  Performs validation for string types.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction string(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, 'string');\n    if (!isEmptyValue(value, 'string')) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n      rules.pattern(rule, value, source, errors, options);\n      if (rule.whitespace === true) {\n        rules.whitespace(rule, value, source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n}\n\nexport default string;","import rules from '../rule/';\nimport { isEmptyValue } from '../util';\n\nfunction type(rule, value, callback, source, options) {\n  var ruleType = rule.type;\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (isEmptyValue(value, ruleType) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, ruleType);\n    if (!isEmptyValue(value, ruleType)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexport default type;","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = require('./_hide');\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","/*!\n * Cropper v4.0.0\n * https://github.com/fengyuanchen/cropper\n *\n * Copyright (c) 2014-2018 Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-04-01T06:27:27.267Z\n */\n\nimport $ from 'jquery';\n\nvar IN_BROWSER = typeof window !== 'undefined';\nvar WINDOW = IN_BROWSER ? window : {};\nvar NAMESPACE = 'cropper';\n\n// Actions\nvar ACTION_ALL = 'all';\nvar ACTION_CROP = 'crop';\nvar ACTION_MOVE = 'move';\nvar ACTION_ZOOM = 'zoom';\nvar ACTION_EAST = 'e';\nvar ACTION_WEST = 'w';\nvar ACTION_SOUTH = 's';\nvar ACTION_NORTH = 'n';\nvar ACTION_NORTH_EAST = 'ne';\nvar ACTION_NORTH_WEST = 'nw';\nvar ACTION_SOUTH_EAST = 'se';\nvar ACTION_SOUTH_WEST = 'sw';\n\n// Classes\nvar CLASS_CROP = NAMESPACE + '-crop';\nvar CLASS_DISABLED = NAMESPACE + '-disabled';\nvar CLASS_HIDDEN = NAMESPACE + '-hidden';\nvar CLASS_HIDE = NAMESPACE + '-hide';\nvar CLASS_INVISIBLE = NAMESPACE + '-invisible';\nvar CLASS_MODAL = NAMESPACE + '-modal';\nvar CLASS_MOVE = NAMESPACE + '-move';\n\n// Data keys\nvar DATA_ACTION = 'action';\nvar DATA_PREVIEW = 'preview';\n\n// Drag modes\nvar DRAG_MODE_CROP = 'crop';\nvar DRAG_MODE_MOVE = 'move';\nvar DRAG_MODE_NONE = 'none';\n\n// Events\nvar EVENT_CROP = 'crop';\nvar EVENT_CROP_END = 'cropend';\nvar EVENT_CROP_MOVE = 'cropmove';\nvar EVENT_CROP_START = 'cropstart';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_LOAD = 'load';\nvar EVENT_POINTER_DOWN = WINDOW.PointerEvent ? 'pointerdown' : 'touchstart mousedown';\nvar EVENT_POINTER_MOVE = WINDOW.PointerEvent ? 'pointermove' : 'touchmove mousemove';\nvar EVENT_POINTER_UP = WINDOW.PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';\nvar EVENT_READY = 'ready';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';\nvar EVENT_ZOOM = 'zoom';\n\n// RegExps\nvar REGEXP_ACTIONS = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;\nvar REGEXP_DATA_URL = /^data:/;\nvar REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\nvar REGEXP_TAG_NAME = /^(?:img|canvas)$/i;\n\nvar DEFAULTS = {\n  // Define the view mode of the cropper\n  viewMode: 0, // 0, 1, 2, 3\n\n  // Define the dragging mode of the cropper\n  dragMode: DRAG_MODE_CROP, // 'crop', 'move' or 'none'\n\n  // Define the aspect ratio of the crop box\n  aspectRatio: NaN,\n\n  // An object with the previous cropping result data\n  data: null,\n\n  // A selector for adding extra containers to preview\n  preview: '',\n\n  // Re-render the cropper when resize the window\n  responsive: true,\n\n  // Restore the cropped area after resize the window\n  restore: true,\n\n  // Check if the current image is a cross-origin image\n  checkCrossOrigin: true,\n\n  // Check the current image's Exif Orientation information\n  checkOrientation: true,\n\n  // Show the black modal\n  modal: true,\n\n  // Show the dashed lines for guiding\n  guides: true,\n\n  // Show the center indicator for guiding\n  center: true,\n\n  // Show the white modal to highlight the crop box\n  highlight: true,\n\n  // Show the grid background\n  background: true,\n\n  // Enable to crop the image automatically when initialize\n  autoCrop: true,\n\n  // Define the percentage of automatic cropping area when initializes\n  autoCropArea: 0.8,\n\n  // Enable to move the image\n  movable: true,\n\n  // Enable to rotate the image\n  rotatable: true,\n\n  // Enable to scale the image\n  scalable: true,\n\n  // Enable to zoom the image\n  zoomable: true,\n\n  // Enable to zoom the image by dragging touch\n  zoomOnTouch: true,\n\n  // Enable to zoom the image by wheeling mouse\n  zoomOnWheel: true,\n\n  // Define zoom ratio when zoom the image by wheeling mouse\n  wheelZoomRatio: 0.1,\n\n  // Enable to move the crop box\n  cropBoxMovable: true,\n\n  // Enable to resize the crop box\n  cropBoxResizable: true,\n\n  // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n  toggleDragModeOnDblclick: true,\n\n  // Size limitation\n  minCanvasWidth: 0,\n  minCanvasHeight: 0,\n  minCropBoxWidth: 0,\n  minCropBoxHeight: 0,\n  minContainerWidth: 200,\n  minContainerHeight: 100,\n\n  // Shortcuts of events\n  ready: null,\n  cropstart: null,\n  cropmove: null,\n  cropend: null,\n  crop: null,\n  zoom: null\n};\n\nvar TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-action=\"se\"></span>' + '</div>' + '</div>';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\n\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n\n\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n\n        var i = void 0;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nvar assign = Object.assign || function assign(obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (isObject(obj) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          obj[key] = arg[key];\n        });\n      }\n    });\n  }\n\n  return obj;\n};\n\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/i;\n\n/**\n * Normalize decimal number.\n * Check out {@link http://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\nvar REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n\n\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value += 'px';\n    }\n\n    style[property] = value;\n  });\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n\n  var className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = className + ' ' + value;\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\n\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\nfunction hyphenate(value) {\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  } else if (element.dataset) {\n    return element.dataset[name];\n  }\n\n  return element.getAttribute('data-' + hyphenate(name));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute('data-' + hyphenate(name), data);\n  }\n}\n\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    try {\n      delete element[name];\n    } catch (e) {\n      element[name] = undefined;\n    }\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (e) {\n      element.dataset[name] = undefined;\n    }\n  } else {\n    element.removeAttribute('data-' + hyphenate(name));\n  }\n}\n\nvar REGEXP_SPACES = /\\s\\s*/;\nvar onceSupported = function () {\n  var supported = false;\n\n  if (IN_BROWSER) {\n    var once = false;\n    var listener = function listener() {};\n    var options = Object.defineProperty({}, 'once', {\n      get: function get$$1() {\n        supported = true;\n        return once;\n      },\n\n\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set$$1(value) {\n        once = value;\n      }\n    });\n\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n\n  return supported;\n}();\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n\n\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n\n    element.removeEventListener(event, handler, options);\n  });\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n          listeners = _element$listeners === undefined ? {} : _element$listeners;\n\n\n      _handler = function handler() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n        listener.apply(element, args);\n      };\n\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n\n    element.addEventListener(event, _handler, options);\n  });\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data) {\n  var event = void 0;\n\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, {\n      detail: data,\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n\n  return element.dispatchEvent(event);\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\n\nvar location = WINDOW.location;\n\nvar REGEXP_ORIGINS = /^(https?:)\\/\\/([^:/?#]+):?(\\d*)/i;\n\n/**\n * Check if the given URL is a cross origin URL.\n * @param {string} url - The target URL.\n * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n */\nfunction isCrossOriginURL(url) {\n  var parts = url.match(REGEXP_ORIGINS);\n\n  return parts && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n}\n\n/**\n * Add timestamp to the given URL.\n * @param {string} url - The target URL.\n * @returns {string} The result URL.\n */\nfunction addTimestamp(url) {\n  var timestamp = 'timestamp=' + new Date().getTime();\n\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n\n  var values = [];\n\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push('translateX(' + translateX + 'px)');\n  }\n\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push('translateY(' + translateY + 'px)');\n  }\n\n  // Rotate should come first before scale to match orientation transform\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push('rotate(' + rotate + 'deg)');\n  }\n\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push('scaleX(' + scaleX + ')');\n  }\n\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push('scaleY(' + scaleY + ')');\n  }\n\n  var transform = values.length ? values.join(' ') : 'none';\n\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = assign({}, pointers);\n  var ratios = [];\n\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n\n      ratios.push(ratio);\n    });\n  });\n\n  ratios.sort(function (a, b) {\n    return Math.abs(a) < Math.abs(b);\n  });\n\n  return ratios[0];\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n\n  return endOnly ? end : assign({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n        startY = _ref3.startY;\n\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n\n  pageX /= count;\n  pageY /= count;\n\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\n/**\n * Check if the given value is a finite number.\n */\nvar isFinite = Number.isFinite || WINDOW.isFinite;\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref4) // or 'cover'\n{\n  var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n\n  var isValidNumber = function isValidNumber(value) {\n    return isFinite(value) && value > 0;\n  };\n\n  if (isValidNumber(width) && isValidNumber(height)) {\n    var adjustedWidth = height * aspectRatio;\n\n    if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidNumber(width)) {\n    height = width / aspectRatio;\n  } else if (isValidNumber(height)) {\n    width = height * aspectRatio;\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get the new sizes of a rectangle after rotated.\n * @param {Object} data - The original sizes.\n * @returns {Object} The result sizes.\n */\nfunction getRotatedSizes(_ref5) {\n  var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n\n  degree = Math.abs(degree) % 180;\n\n  if (degree === 90) {\n    return {\n      width: height,\n      height: width\n    };\n  }\n\n  var arc = degree % 90 * Math.PI / 180;\n  var sinArc = Math.sin(arc);\n  var cosArc = Math.cos(arc);\n  var newWidth = width * cosArc + height * sinArc;\n  var newHeight = width * sinArc + height * cosArc;\n\n  return degree > 90 ? {\n    width: newHeight,\n    height: newWidth\n  } : {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\n/**\n * Get a canvas which drew the given image.\n * @param {HTMLImageElement} image - The image for drawing.\n * @param {Object} imageData - The image data.\n * @param {Object} canvasData - The canvas data.\n * @param {Object} options - The options.\n * @returns {HTMLCanvasElement} The result canvas.\n */\nfunction getSourceCanvas(image, _ref6, _ref7, _ref8) {\n  var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === undefined ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === undefined ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === undefined ? 1 : _ref6$scaleY;\n  var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n  var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === undefined ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === undefined ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === undefined ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === undefined ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === undefined ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === undefined ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === undefined ? 0 : _ref8$minHeight;\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var maxSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var minSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n  // Note: should always use image's natural sizes for drawing as\n  // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n  var destMaxSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var destMinSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n\n  canvas.width = normalizeDecimalNumber(width);\n  canvas.height = normalizeDecimalNumber(height);\n  context.fillStyle = fillColor;\n  context.fillRect(0, 0, width, height);\n  context.save();\n  context.translate(width / 2, height / 2);\n  context.rotate(rotate * Math.PI / 180);\n  context.scale(scaleX, scaleY);\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\n  context.imageSmoothingQuality = imageSmoothingQuality;\n  context.drawImage.apply(context, [image].concat(toConsumableArray(params.map(function (param) {\n    return Math.floor(normalizeDecimalNumber(param));\n  }))));\n  context.restore();\n  return canvas;\n}\n\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i = void 0;\n\n  length += start;\n\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\n\nvar REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n/**\n * Transform Data URL to array buffer.\n * @param {string} dataURL - The Data URL to transform.\n * @returns {ArrayBuffer} The result array buffer.\n */\nfunction dataURLToArrayBuffer(dataURL) {\n  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n  var binary = atob(base64);\n  var arrayBuffer = new ArrayBuffer(binary.length);\n  var uint8 = new Uint8Array(arrayBuffer);\n\n  forEach(uint8, function (value, i) {\n    uint8[i] = binary.charCodeAt(i);\n  });\n\n  return arrayBuffer;\n}\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var uint8 = new Uint8Array(arrayBuffer);\n  var data = '';\n\n  // TypedArray.prototype.forEach is not supported in some browsers.\n  forEach(uint8, function (value) {\n    data += fromCharCode(value);\n  });\n\n  return 'data:' + mimeType + ';base64,' + btoa(data);\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction getOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation = void 0;\n  var littleEndian = void 0;\n  var app1Start = void 0;\n  var ifdStart = void 0;\n\n  // Only handle JPEG image (start by 0xFFD8)\n  if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n    var length = dataView.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n      if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n        app1Start = offset;\n        break;\n      }\n\n      offset += 1;\n    }\n  }\n\n  if (app1Start) {\n    var exifIDCode = app1Start + 4;\n    var tiffOffset = app1Start + 10;\n\n    if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n      var endianness = dataView.getUint16(tiffOffset);\n\n      littleEndian = endianness === 0x4949;\n\n      if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n    }\n  }\n\n  if (ifdStart) {\n    var _length = dataView.getUint16(ifdStart, littleEndian);\n    var _offset = void 0;\n    var i = void 0;\n\n    for (i = 0; i < _length; i += 1) {\n      _offset = ifdStart + i * 12 + 2;\n\n      if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n    }\n  }\n\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n\n    default:\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initCanvas();\n    this.initCropBox();\n    this.renderCanvas();\n\n    if (this.cropped) {\n      this.renderCropBox();\n    }\n  },\n  initContainer: function initContainer() {\n    var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n\n\n    addClass(cropper, CLASS_HIDDEN);\n    removeClass(element, CLASS_HIDDEN);\n\n    var containerData = {\n      width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),\n      height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)\n    };\n\n    this.containerData = containerData;\n\n    setStyle(cropper, {\n      width: containerData.width,\n      height: containerData.height\n    });\n\n    addClass(element, CLASS_HIDDEN);\n    removeClass(cropper, CLASS_HIDDEN);\n  },\n\n\n  // Canvas (image wrapper)\n  initCanvas: function initCanvas() {\n    var containerData = this.containerData,\n        imageData = this.imageData;\n    var viewMode = this.options.viewMode;\n\n    var rotated = Math.abs(imageData.rotate) % 180 === 90;\n    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n    var aspectRatio = naturalWidth / naturalHeight;\n    var canvasWidth = containerData.width;\n    var canvasHeight = containerData.height;\n\n    if (containerData.height * aspectRatio > containerData.width) {\n      if (viewMode === 3) {\n        canvasWidth = containerData.height * aspectRatio;\n      } else {\n        canvasHeight = containerData.width / aspectRatio;\n      }\n    } else if (viewMode === 3) {\n      canvasHeight = containerData.width / aspectRatio;\n    } else {\n      canvasWidth = containerData.height * aspectRatio;\n    }\n\n    var canvasData = {\n      aspectRatio: aspectRatio,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n\n    canvasData.left = (containerData.width - canvasWidth) / 2;\n    canvasData.top = (containerData.height - canvasHeight) / 2;\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    this.canvasData = canvasData;\n    this.limited = viewMode === 1 || viewMode === 2;\n    this.limitCanvas(true, true);\n    this.initialImageData = assign({}, imageData);\n    this.initialCanvasData = assign({}, canvasData);\n  },\n  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var viewMode = options.viewMode;\n    var aspectRatio = canvasData.aspectRatio;\n\n    var cropped = this.cropped && cropBoxData;\n\n    if (sizeLimited) {\n      var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n      var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n      if (viewMode > 1) {\n        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n        if (viewMode === 3) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      } else if (viewMode > 0) {\n        if (minCanvasWidth) {\n          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n        } else if (minCanvasHeight) {\n          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n        } else if (cropped) {\n          minCanvasWidth = cropBoxData.width;\n          minCanvasHeight = cropBoxData.height;\n\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      }\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minCanvasWidth,\n        height: minCanvasHeight\n      });\n\n      minCanvasWidth = _getAdjustedSizes.width;\n      minCanvasHeight = _getAdjustedSizes.height;\n\n\n      canvasData.minWidth = minCanvasWidth;\n      canvasData.minHeight = minCanvasHeight;\n      canvasData.maxWidth = Infinity;\n      canvasData.maxHeight = Infinity;\n    }\n\n    if (positionLimited) {\n      if (viewMode) {\n        var newCanvasLeft = containerData.width - canvasData.width;\n        var newCanvasTop = containerData.height - canvasData.height;\n\n        canvasData.minLeft = Math.min(0, newCanvasLeft);\n        canvasData.minTop = Math.min(0, newCanvasTop);\n        canvasData.maxLeft = Math.max(0, newCanvasLeft);\n        canvasData.maxTop = Math.max(0, newCanvasTop);\n\n        if (cropped && this.limited) {\n          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n          canvasData.maxLeft = cropBoxData.left;\n          canvasData.maxTop = cropBoxData.top;\n\n          if (viewMode === 2) {\n            if (canvasData.width >= containerData.width) {\n              canvasData.minLeft = Math.min(0, newCanvasLeft);\n              canvasData.maxLeft = Math.max(0, newCanvasLeft);\n            }\n\n            if (canvasData.height >= containerData.height) {\n              canvasData.minTop = Math.min(0, newCanvasTop);\n              canvasData.maxTop = Math.max(0, newCanvasTop);\n            }\n          }\n        }\n      } else {\n        canvasData.minLeft = -canvasData.width;\n        canvasData.minTop = -canvasData.height;\n        canvasData.maxLeft = containerData.width;\n        canvasData.maxTop = containerData.height;\n      }\n    }\n  },\n  renderCanvas: function renderCanvas(changed, transformed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n\n    if (transformed) {\n      var _getRotatedSizes = getRotatedSizes({\n        width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n        height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n        degree: imageData.rotate || 0\n      }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n\n      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n\n      canvasData.left -= (width - canvasData.width) / 2;\n      canvasData.top -= (height - canvasData.height) / 2;\n      canvasData.width = width;\n      canvasData.height = height;\n      canvasData.aspectRatio = naturalWidth / naturalHeight;\n      canvasData.naturalWidth = naturalWidth;\n      canvasData.naturalHeight = naturalHeight;\n      this.limitCanvas(true, false);\n    }\n\n    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n      canvasData.left = canvasData.oldLeft;\n    }\n\n    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n      canvasData.top = canvasData.oldTop;\n    }\n\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n\n    this.limitCanvas(false, true);\n\n    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    setStyle(this.canvas, assign({\n      width: canvasData.width,\n      height: canvasData.height\n    }, getTransforms({\n      translateX: canvasData.left,\n      translateY: canvasData.top\n    })));\n\n    this.renderImage(changed);\n\n    if (this.cropped && this.limited) {\n      this.limitCropBox(true, true);\n    }\n  },\n  renderImage: function renderImage(changed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n\n    assign(imageData, {\n      width: width,\n      height: height,\n      left: (canvasData.width - width) / 2,\n      top: (canvasData.height - height) / 2\n    });\n    setStyle(this.image, assign({\n      width: imageData.width,\n      height: imageData.height\n    }, getTransforms(assign({\n      translateX: imageData.left,\n      translateY: imageData.top\n    }, imageData))));\n\n    if (changed) {\n      this.output();\n    }\n  },\n  initCropBox: function initCropBox() {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var aspectRatio = options.aspectRatio;\n\n    var autoCropArea = Number(options.autoCropArea) || 0.8;\n    var cropBoxData = {\n      width: canvasData.width,\n      height: canvasData.height\n    };\n\n    if (aspectRatio) {\n      if (canvasData.height * aspectRatio > canvasData.width) {\n        cropBoxData.height = cropBoxData.width / aspectRatio;\n      } else {\n        cropBoxData.width = cropBoxData.height * aspectRatio;\n      }\n    }\n\n    this.cropBoxData = cropBoxData;\n    this.limitCropBox(true, true);\n\n    // Initialize auto crop area\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    // The width/height of auto crop area must large than \"minWidth/Height\"\n    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    this.initialCropBoxData = assign({}, cropBoxData);\n  },\n  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n    var aspectRatio = options.aspectRatio;\n\n\n    if (sizeLimited) {\n      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n      var maxCropBoxWidth = Math.min(containerData.width, limited ? canvasData.width : containerData.width);\n      var maxCropBoxHeight = Math.min(containerData.height, limited ? canvasData.height : containerData.height);\n\n      // The min/maxCropBoxWidth/Height must be less than container's width/height\n      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n      if (aspectRatio) {\n        if (minCropBoxWidth && minCropBoxHeight) {\n          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n        } else if (minCropBoxWidth) {\n          minCropBoxHeight = minCropBoxWidth / aspectRatio;\n        } else if (minCropBoxHeight) {\n          minCropBoxWidth = minCropBoxHeight * aspectRatio;\n        }\n\n        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n        } else {\n          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n        }\n      }\n\n      // The minWidth/Height must be less than maxWidth/Height\n      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n      cropBoxData.maxWidth = maxCropBoxWidth;\n      cropBoxData.maxHeight = maxCropBoxHeight;\n    }\n\n    if (positionLimited) {\n      if (limited) {\n        cropBoxData.minLeft = Math.max(0, canvasData.left);\n        cropBoxData.minTop = Math.max(0, canvasData.top);\n        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n      } else {\n        cropBoxData.minLeft = 0;\n        cropBoxData.minTop = 0;\n        cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n        cropBoxData.maxTop = containerData.height - cropBoxData.height;\n      }\n    }\n  },\n  renderCropBox: function renderCropBox() {\n    var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n\n\n    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n      cropBoxData.left = cropBoxData.oldLeft;\n    }\n\n    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n      cropBoxData.top = cropBoxData.oldTop;\n    }\n\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    this.limitCropBox(false, true);\n\n    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    if (options.movable && options.cropBoxMovable) {\n      // Turn to move the canvas when the crop box is equal to the container\n      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n    }\n\n    setStyle(this.cropBox, assign({\n      width: cropBoxData.width,\n      height: cropBoxData.height\n    }, getTransforms({\n      translateX: cropBoxData.left,\n      translateY: cropBoxData.top\n    })));\n\n    if (this.cropped && this.limited) {\n      this.limitCanvas(true, true);\n    }\n\n    if (!this.disabled) {\n      this.output();\n    }\n  },\n  output: function output() {\n    this.preview();\n    dispatchEvent(this.element, EVENT_CROP, this.getData());\n  }\n};\n\nvar preview = {\n  initPreview: function initPreview() {\n    var crossOrigin = this.crossOrigin;\n    var preview = this.options.preview;\n\n    var url = crossOrigin ? this.crossOriginUrl : this.url;\n    var image = document.createElement('img');\n\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n\n    image.src = url;\n    this.viewBox.appendChild(image);\n    this.viewBoxImage = image;\n\n    if (!preview) {\n      return;\n    }\n\n    var previews = preview;\n\n    if (typeof preview === 'string') {\n      previews = this.element.ownerDocument.querySelectorAll(preview);\n    } else if (preview.querySelector) {\n      previews = [preview];\n    }\n\n    this.previews = previews;\n\n    forEach(previews, function (el) {\n      var img = document.createElement('img');\n\n      // Save the original size for recover\n      setData(el, DATA_PREVIEW, {\n        width: el.offsetWidth,\n        height: el.offsetHeight,\n        html: el.innerHTML\n      });\n\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n\n      img.src = url;\n\n      /**\n       * Override img element styles\n       * Add `display:block` to avoid margin top issue\n       * Add `height:auto` to override `height` attribute on IE8\n       * (Occur only when margin-top <= -height)\n       */\n      img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n\n      el.innerHTML = '';\n      el.appendChild(img);\n    });\n  },\n  resetPreview: function resetPreview() {\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n\n      setStyle(element, {\n        width: data.width,\n        height: data.height\n      });\n\n      element.innerHTML = data.html;\n      removeData(element, DATA_PREVIEW);\n    });\n  },\n  preview: function preview() {\n    var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n    var width = imageData.width,\n        height = imageData.height;\n\n    var left = cropBoxData.left - canvasData.left - imageData.left;\n    var top = cropBoxData.top - canvasData.top - imageData.top;\n\n    if (!this.cropped || this.disabled) {\n      return;\n    }\n\n    setStyle(this.viewBoxImage, assign({\n      width: width,\n      height: height\n    }, getTransforms(assign({\n      translateX: -left,\n      translateY: -top\n    }, imageData))));\n\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      var originalWidth = data.width;\n      var originalHeight = data.height;\n      var newWidth = originalWidth;\n      var newHeight = originalHeight;\n      var ratio = 1;\n\n      if (cropBoxWidth) {\n        ratio = originalWidth / cropBoxWidth;\n        newHeight = cropBoxHeight * ratio;\n      }\n\n      if (cropBoxHeight && newHeight > originalHeight) {\n        ratio = originalHeight / cropBoxHeight;\n        newWidth = cropBoxWidth * ratio;\n        newHeight = originalHeight;\n      }\n\n      setStyle(element, {\n        width: newWidth,\n        height: newHeight\n      });\n\n      setStyle(element.getElementsByTagName('img')[0], assign({\n        width: width * ratio,\n        height: height * ratio\n      }, getTransforms(assign({\n        translateX: -left * ratio,\n        translateY: -top * ratio\n      }, imageData))));\n    });\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      addListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      addListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      addListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      addListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      addListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this));\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n    if (options.responsive) {\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      removeListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      removeListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      removeListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      removeListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(cropper, EVENT_WHEEL, this.onWheel);\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n    }\n\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n    if (options.responsive) {\n      removeListener(window, EVENT_RESIZE, this.onResize);\n    }\n  }\n};\n\nvar handlers = {\n  resize: function resize() {\n    var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n\n    var minContainerWidth = Number(options.minContainerWidth) || 200;\n    var minContainerHeight = Number(options.minContainerHeight) || 100;\n\n    if (this.disabled || containerData.width <= minContainerWidth || containerData.height <= minContainerHeight) {\n      return;\n    }\n\n    var ratio = container.offsetWidth / containerData.width;\n\n    // Resize when width changed or height changed\n    if (ratio !== 1 || container.offsetHeight !== containerData.height) {\n      var canvasData = void 0;\n      var cropBoxData = void 0;\n\n      if (options.restore) {\n        canvasData = this.getCanvasData();\n        cropBoxData = this.getCropBoxData();\n      }\n\n      this.render();\n\n      if (options.restore) {\n        this.setCanvasData(forEach(canvasData, function (n, i) {\n          canvasData[i] = n * ratio;\n        }));\n        this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n          cropBoxData[i] = n * ratio;\n        }));\n      }\n    }\n  },\n  dblclick: function dblclick() {\n    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n      return;\n    }\n\n    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n  },\n  wheel: function wheel(e) {\n    var _this = this;\n\n    var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n    var delta = 1;\n\n    if (this.disabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast (#21)\n    if (this.wheeling) {\n      return;\n    }\n\n    this.wheeling = true;\n\n    setTimeout(function () {\n      _this.wheeling = false;\n    }, 50);\n\n    if (e.deltaY) {\n      delta = e.deltaY > 0 ? 1 : -1;\n    } else if (e.wheelDelta) {\n      delta = -e.wheelDelta / 120;\n    } else if (e.detail) {\n      delta = e.detail > 0 ? 1 : -1;\n    }\n\n    this.zoom(-delta * ratio, e);\n  },\n  cropStart: function cropStart(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var options = this.options,\n        pointers = this.pointers;\n\n    var action = void 0;\n\n    if (e.changedTouches) {\n      // Handle touch event\n      forEach(e.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      // Handle mouse event and pointer event\n      pointers[e.pointerId || 0] = getPointer(e);\n    }\n\n    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n      action = ACTION_ZOOM;\n    } else {\n      action = getData(e.target, DATA_ACTION);\n    }\n\n    if (!REGEXP_ACTIONS.test(action)) {\n      return;\n    }\n\n    if (dispatchEvent(this.element, EVENT_CROP_START, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    e.preventDefault();\n\n    this.action = action;\n    this.cropping = false;\n\n    if (action === ACTION_CROP) {\n      this.cropping = true;\n      addClass(this.dragBox, CLASS_MODAL);\n    }\n  },\n  cropMove: function cropMove(e) {\n    var action = this.action;\n\n\n    if (this.disabled || !action) {\n      return;\n    }\n\n    var pointers = this.pointers;\n\n\n    e.preventDefault();\n\n    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        assign(pointers[touch.identifier], getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[e.pointerId || 0], getPointer(e, true));\n    }\n\n    this.change(e);\n  },\n  cropEnd: function cropEnd(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var action = this.action,\n        pointers = this.pointers;\n\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[e.pointerId || 0];\n    }\n\n    if (!action) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!Object.keys(pointers).length) {\n      this.action = '';\n    }\n\n    if (this.cropping) {\n      this.cropping = false;\n      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n    }\n\n    dispatchEvent(this.element, EVENT_CROP_END, {\n      originalEvent: e,\n      action: action\n    });\n  }\n};\n\nvar change = {\n  change: function change(e) {\n    var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n    var action = this.action;\n    var aspectRatio = options.aspectRatio;\n    var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n\n    var right = left + width;\n    var bottom = top + height;\n    var minLeft = 0;\n    var minTop = 0;\n    var maxWidth = containerData.width;\n    var maxHeight = containerData.height;\n    var renderable = true;\n    var offset = void 0;\n\n    // Locking aspect ratio in \"free mode\" by holding shift key\n    if (!aspectRatio && e.shiftKey) {\n      aspectRatio = width && height ? width / height : 1;\n    }\n\n    if (this.limited) {\n      minLeft = cropBoxData.minLeft;\n      minTop = cropBoxData.minTop;\n\n      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n    }\n\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var range = {\n      x: pointer.endX - pointer.startX,\n      y: pointer.endY - pointer.startY\n    };\n    var check = function check(side) {\n      switch (side) {\n        case ACTION_EAST:\n          if (right + range.x > maxWidth) {\n            range.x = maxWidth - right;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (left + range.x < minLeft) {\n            range.x = minLeft - left;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (top + range.y < minTop) {\n            range.y = minTop - top;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (bottom + range.y > maxHeight) {\n            range.y = maxHeight - bottom;\n          }\n\n          break;\n\n        default:\n      }\n    };\n\n    switch (action) {\n      // Move crop box\n      case ACTION_ALL:\n        left += range.x;\n        top += range.y;\n        break;\n\n      // Resize crop box\n      case ACTION_EAST:\n        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_EAST);\n        width += range.x;\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top -= range.x / aspectRatio / 2;\n        }\n\n        if (width < 0) {\n          action = ACTION_WEST;\n          width = 0;\n        }\n\n        break;\n\n      case ACTION_NORTH:\n        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_NORTH);\n        height -= range.y;\n        top += range.y;\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += range.y * aspectRatio / 2;\n        }\n\n        if (height < 0) {\n          action = ACTION_SOUTH;\n          height = 0;\n        }\n\n        break;\n\n      case ACTION_WEST:\n        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_WEST);\n        width -= range.x;\n        left += range.x;\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += range.x / aspectRatio / 2;\n        }\n\n        if (width < 0) {\n          action = ACTION_EAST;\n          width = 0;\n        }\n\n        break;\n\n      case ACTION_SOUTH:\n        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_SOUTH);\n        height += range.y;\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left -= range.y * aspectRatio / 2;\n        }\n\n        if (height < 0) {\n          action = ACTION_NORTH;\n          height = 0;\n        }\n\n        break;\n\n      case ACTION_NORTH_EAST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = 0;\n          width = 0;\n        } else if (width < 0) {\n          action = ACTION_NORTH_WEST;\n          width = 0;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = 0;\n        }\n\n        break;\n\n      case ACTION_NORTH_WEST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n          left += range.y * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = 0;\n          width = 0;\n        } else if (width < 0) {\n          action = ACTION_NORTH_EAST;\n          width = 0;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = 0;\n        }\n\n        break;\n\n      case ACTION_SOUTH_WEST:\n        if (aspectRatio) {\n          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = 0;\n          width = 0;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_EAST;\n          width = 0;\n        } else if (height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = 0;\n        }\n\n        break;\n\n      case ACTION_SOUTH_EAST:\n        if (aspectRatio) {\n          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = 0;\n          width = 0;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_WEST;\n          width = 0;\n        } else if (height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = 0;\n        }\n\n        break;\n\n      // Move canvas\n      case ACTION_MOVE:\n        this.move(range.x, range.y);\n        renderable = false;\n        break;\n\n      // Zoom canvas\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), e);\n        renderable = false;\n        break;\n\n      // Create crop box\n      case ACTION_CROP:\n        if (!range.x || !range.y) {\n          renderable = false;\n          break;\n        }\n\n        offset = getOffset(this.cropper);\n        left = pointer.startX - offset.left;\n        top = pointer.startY - offset.top;\n        width = cropBoxData.minWidth;\n        height = cropBoxData.minHeight;\n\n        if (range.x > 0) {\n          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n        } else if (range.x < 0) {\n          left -= width;\n          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n        }\n\n        if (range.y < 0) {\n          top -= height;\n        }\n\n        // Show the crop box if is hidden\n        if (!this.cropped) {\n          removeClass(this.cropBox, CLASS_HIDDEN);\n          this.cropped = true;\n\n          if (this.limited) {\n            this.limitCropBox(true, true);\n          }\n        }\n\n        break;\n\n      default:\n    }\n\n    if (renderable) {\n      cropBoxData.width = width;\n      cropBoxData.height = height;\n      cropBoxData.left = left;\n      cropBoxData.top = top;\n      this.action = action;\n      this.renderCropBox();\n    }\n\n    // Override\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  }\n};\n\nvar methods = {\n  // Show the crop box manually\n  crop: function crop() {\n    if (this.ready && !this.cropped && !this.disabled) {\n      this.cropped = true;\n      this.limitCropBox(true, true);\n\n      if (this.options.modal) {\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n\n      removeClass(this.cropBox, CLASS_HIDDEN);\n      this.setCropBoxData(this.initialCropBoxData);\n    }\n\n    return this;\n  },\n\n\n  // Reset the image and crop box to their initial states\n  reset: function reset() {\n    if (this.ready && !this.disabled) {\n      this.imageData = assign({}, this.initialImageData);\n      this.canvasData = assign({}, this.initialCanvasData);\n      this.cropBoxData = assign({}, this.initialCropBoxData);\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    }\n\n    return this;\n  },\n\n\n  // Clear the crop box\n  clear: function clear() {\n    if (this.cropped && !this.disabled) {\n      assign(this.cropBoxData, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n\n      this.cropped = false;\n      this.renderCropBox();\n      this.limitCanvas(true, true);\n\n      // Render canvas after crop box rendered\n      this.renderCanvas();\n      removeClass(this.dragBox, CLASS_MODAL);\n      addClass(this.cropBox, CLASS_HIDDEN);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Replace the image's src and rebuild the cropper\n   * @param {string} url - The new URL.\n   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n   * @returns {Cropper} this\n   */\n  replace: function replace(url) {\n    var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!this.disabled && url) {\n      if (this.isImg) {\n        this.element.src = url;\n      }\n\n      if (hasSameSize) {\n        this.url = url;\n        this.image.src = url;\n\n        if (this.ready) {\n          this.viewBoxImage.src = url;\n\n          forEach(this.previews, function (element) {\n            element.getElementsByTagName('img')[0].src = url;\n          });\n        }\n      } else {\n        if (this.isImg) {\n          this.replaced = true;\n        }\n\n        this.options.data = null;\n        this.uncreate();\n        this.load(url);\n      }\n    }\n\n    return this;\n  },\n\n\n  // Enable (unfreeze) the cropper\n  enable: function enable() {\n    if (this.ready && this.disabled) {\n      this.disabled = false;\n      removeClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  // Disable (freeze) the cropper\n  disable: function disable() {\n    if (this.ready && !this.disabled) {\n      this.disabled = true;\n      addClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Destroy the cropper and remove the instance from the image\n   * @returns {Cropper} this\n   */\n  destroy: function destroy() {\n    var element = this.element;\n\n\n    if (!getData(element, NAMESPACE)) {\n      return this;\n    }\n\n    if (this.isImg && this.replaced) {\n      element.src = this.originalUrl;\n    }\n\n    this.uncreate();\n    removeData(element, NAMESPACE);\n\n    return this;\n  },\n\n\n  /**\n   * Move the canvas with relative offsets\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n   * @returns {Cropper} this\n   */\n  move: function move(offsetX) {\n    var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n    var _canvasData = this.canvasData,\n        left = _canvasData.left,\n        top = _canvasData.top;\n\n\n    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n  },\n\n\n  /**\n   * Move the canvas to an absolute point\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Cropper} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var canvasData = this.canvasData;\n\n    var changed = false;\n\n    x = Number(x);\n    y = Number(y);\n\n    if (this.ready && !this.disabled && this.options.movable) {\n      if (isNumber(x)) {\n        canvasData.left = x;\n        changed = true;\n      }\n\n      if (isNumber(y)) {\n        canvasData.top = y;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderCanvas(true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Zoom the canvas with a relative ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoom: function zoom(ratio, _originalEvent) {\n    var canvasData = this.canvasData;\n\n\n    ratio = Number(ratio);\n\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n\n    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n  },\n\n\n  /**\n   * Zoom the canvas to an absolute ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Object} pivot - The zoom pivot point coordinate.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n\n\n    ratio = Number(ratio);\n\n    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n\n      if (dispatchEvent(this.element, EVENT_ZOOM, {\n        originalEvent: _originalEvent,\n        oldRatio: width / naturalWidth,\n        ratio: newWidth / naturalWidth\n      }) === false) {\n        return this;\n      }\n\n      if (_originalEvent) {\n        var pointers = this.pointers;\n\n        var offset = getOffset(this.cropper);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n      } else {\n        // Zoom from the center of the canvas\n        canvasData.left -= (newWidth - width) / 2;\n        canvasData.top -= (newHeight - height) / 2;\n      }\n\n      canvasData.width = newWidth;\n      canvasData.height = newHeight;\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Rotate the canvas with a relative degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotate: function rotate(degree) {\n    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n  },\n\n\n  /**\n   * Rotate the canvas to an absolute degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotateTo: function rotateTo(degree) {\n    degree = Number(degree);\n\n    if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n      this.imageData.rotate = degree % 360;\n      this.renderCanvas(true, true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Cropper} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    var scaleY = this.imageData.scaleY;\n\n\n    return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n  },\n\n\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    var scaleX = this.imageData.scaleX;\n\n\n    return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n  },\n\n\n  /**\n   * Scale the image\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n\n    var transformed = false;\n\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n\n    if (this.ready && !this.disabled && this.options.scalable) {\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        transformed = true;\n      }\n\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        transformed = true;\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the cropped area position and size data (base on the original image)\n   * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n   * @returns {Object} The result cropped data.\n   */\n  getData: function getData$$1() {\n    var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        x: cropBoxData.left - canvasData.left,\n        y: cropBoxData.top - canvasData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      forEach(data, function (n, i) {\n        n /= ratio;\n        data[i] = rounded ? Math.round(n) : n;\n      });\n    } else {\n      data = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (options.rotatable) {\n      data.rotate = imageData.rotate || 0;\n    }\n\n    if (options.scalable) {\n      data.scaleX = imageData.scaleX || 1;\n      data.scaleY = imageData.scaleY || 1;\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the cropped area position and size with new data\n   * @param {Object} data - The new data.\n   * @returns {Cropper} this\n   */\n  setData: function setData$$1(data) {\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n\n    var cropBoxData = {};\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      var transformed = false;\n\n      if (options.rotatable) {\n        if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n          imageData.rotate = data.rotate;\n          transformed = true;\n        }\n      }\n\n      if (options.scalable) {\n        if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n          imageData.scaleX = data.scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n          imageData.scaleY = data.scaleY;\n          transformed = true;\n        }\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      if (isNumber(data.x)) {\n        cropBoxData.left = data.x * ratio + canvasData.left;\n      }\n\n      if (isNumber(data.y)) {\n        cropBoxData.top = data.y * ratio + canvasData.top;\n      }\n\n      if (isNumber(data.width)) {\n        cropBoxData.width = data.width * ratio;\n      }\n\n      if (isNumber(data.height)) {\n        cropBoxData.height = data.height * ratio;\n      }\n\n      this.setCropBoxData(cropBoxData);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the container size data.\n   * @returns {Object} The result container data.\n   */\n  getContainerData: function getContainerData() {\n    return this.ready ? assign({}, this.containerData) : {};\n  },\n\n\n  /**\n   * Get the image position and size data.\n   * @returns {Object} The result image data.\n   */\n  getImageData: function getImageData() {\n    return this.sized ? assign({}, this.imageData) : {};\n  },\n\n\n  /**\n   * Get the canvas position and size data.\n   * @returns {Object} The result canvas data.\n   */\n  getCanvasData: function getCanvasData() {\n    var canvasData = this.canvasData;\n\n    var data = {};\n\n    if (this.ready) {\n      forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n        data[n] = canvasData[n];\n      });\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the canvas position and size with new data.\n   * @param {Object} data - The new canvas data.\n   * @returns {Cropper} this\n   */\n  setCanvasData: function setCanvasData(data) {\n    var canvasData = this.canvasData;\n    var aspectRatio = canvasData.aspectRatio;\n\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        canvasData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        canvasData.top = data.top;\n      }\n\n      if (isNumber(data.width)) {\n        canvasData.width = data.width;\n        canvasData.height = data.width / aspectRatio;\n      } else if (isNumber(data.height)) {\n        canvasData.height = data.height;\n        canvasData.width = data.height * aspectRatio;\n      }\n\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the crop box position and size data.\n   * @returns {Object} The result crop box data.\n   */\n  getCropBoxData: function getCropBoxData() {\n    var cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        left: cropBoxData.left,\n        top: cropBoxData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n    }\n\n    return data || {};\n  },\n\n\n  /**\n   * Set the crop box position and size with new data.\n   * @param {Object} data - The new crop box data.\n   * @returns {Cropper} this\n   */\n  setCropBoxData: function setCropBoxData(data) {\n    var cropBoxData = this.cropBoxData;\n    var aspectRatio = this.options.aspectRatio;\n\n    var widthChanged = void 0;\n    var heightChanged = void 0;\n\n    if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        cropBoxData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        cropBoxData.top = data.top;\n      }\n\n      if (isNumber(data.width) && data.width !== cropBoxData.width) {\n        widthChanged = true;\n        cropBoxData.width = data.width;\n      }\n\n      if (isNumber(data.height) && data.height !== cropBoxData.height) {\n        heightChanged = true;\n        cropBoxData.height = data.height;\n      }\n\n      if (aspectRatio) {\n        if (widthChanged) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else if (heightChanged) {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.renderCropBox();\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get a canvas drawn the cropped image.\n   * @param {Object} [options={}] - The config options.\n   * @returns {HTMLCanvasElement} - The result canvas.\n   */\n  getCroppedCanvas: function getCroppedCanvas() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.ready || !window.HTMLCanvasElement) {\n      return null;\n    }\n\n    var canvasData = this.canvasData;\n\n    var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n    // Returns the source canvas if it is not cropped.\n    if (!this.cropped) {\n      return source;\n    }\n\n    var _getData = this.getData(),\n        initialX = _getData.x,\n        initialY = _getData.y,\n        initialWidth = _getData.width,\n        initialHeight = _getData.height;\n\n    var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n    if (ratio !== 1) {\n      initialX *= ratio;\n      initialY *= ratio;\n      initialWidth *= ratio;\n      initialHeight *= ratio;\n    }\n\n    var aspectRatio = initialWidth / initialHeight;\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.maxWidth || Infinity,\n      height: options.maxHeight || Infinity\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.minWidth || 0,\n      height: options.minHeight || 0\n    }, 'cover');\n\n    var _getAdjustedSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.width || (ratio !== 1 ? source.width : initialWidth),\n      height: options.height || (ratio !== 1 ? source.height : initialHeight)\n    }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n\n    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n\n    context.fillStyle = options.fillColor || 'transparent';\n    context.fillRect(0, 0, width, height);\n\n    var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === undefined ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n\n\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n    if (imageSmoothingQuality) {\n      context.imageSmoothingQuality = imageSmoothingQuality;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n    var sourceWidth = source.width;\n    var sourceHeight = source.height;\n\n    // Source canvas parameters\n    var srcX = initialX;\n    var srcY = initialY;\n    var srcWidth = void 0;\n    var srcHeight = void 0;\n\n    // Destination canvas parameters\n    var dstX = void 0;\n    var dstY = void 0;\n    var dstWidth = void 0;\n    var dstHeight = void 0;\n\n    if (srcX <= -initialWidth || srcX > sourceWidth) {\n      srcX = 0;\n      srcWidth = 0;\n      dstX = 0;\n      dstWidth = 0;\n    } else if (srcX <= 0) {\n      dstX = -srcX;\n      srcX = 0;\n      srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n      dstWidth = srcWidth;\n    } else if (srcX <= sourceWidth) {\n      dstX = 0;\n      srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n      dstWidth = srcWidth;\n    }\n\n    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n      srcY = 0;\n      srcHeight = 0;\n      dstY = 0;\n      dstHeight = 0;\n    } else if (srcY <= 0) {\n      dstY = -srcY;\n      srcY = 0;\n      srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n      dstHeight = srcHeight;\n    } else if (srcY <= sourceHeight) {\n      dstY = 0;\n      srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n      dstHeight = srcHeight;\n    }\n\n    var params = [srcX, srcY, srcWidth, srcHeight];\n\n    // Avoid \"IndexSizeError\"\n    if (dstWidth > 0 && dstHeight > 0) {\n      var scale = width / initialWidth;\n\n      params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n    }\n\n    // All the numerical parameters should be integer for `drawImage`\n    // https://github.com/fengyuanchen/cropper/issues/476\n    context.drawImage.apply(context, [source].concat(toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n\n    return canvas;\n  },\n\n\n  /**\n   * Change the aspect ratio of the crop box.\n   * @param {number} aspectRatio - The new aspect ratio.\n   * @returns {Cropper} this\n   */\n  setAspectRatio: function setAspectRatio(aspectRatio) {\n    var options = this.options;\n\n\n    if (!this.disabled && !isUndefined(aspectRatio)) {\n      // 0 -> NaN\n      options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n      if (this.ready) {\n        this.initCropBox();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Change the drag mode.\n   * @param {string} mode - The new drag mode.\n   * @returns {Cropper} this\n   */\n  setDragMode: function setDragMode(mode) {\n    var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n\n\n    if (this.ready && !this.disabled) {\n      var croppable = mode === DRAG_MODE_CROP;\n      var movable = options.movable && mode === DRAG_MODE_MOVE;\n\n      mode = croppable || movable ? mode : DRAG_MODE_NONE;\n\n      options.dragMode = mode;\n      setData(dragBox, DATA_ACTION, mode);\n      toggleClass(dragBox, CLASS_CROP, croppable);\n      toggleClass(dragBox, CLASS_MOVE, movable);\n\n      if (!options.cropBoxMovable) {\n        // Sync drag mode to crop box when it is not movable\n        setData(face, DATA_ACTION, mode);\n        toggleClass(face, CLASS_CROP, croppable);\n        toggleClass(face, CLASS_MOVE, movable);\n      }\n    }\n\n    return this;\n  }\n};\n\nvar AnotherCropper = WINDOW.Cropper;\n\nvar Cropper = function () {\n  /**\n   * Create a new Cropper.\n   * @param {Element} element - The target element for cropping.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Cropper(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Cropper);\n\n    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n      throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n    }\n\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.cropped = false;\n    this.disabled = false;\n    this.pointers = {};\n    this.ready = false;\n    this.reloading = false;\n    this.replaced = false;\n    this.sized = false;\n    this.sizing = false;\n    this.init();\n  }\n\n  createClass(Cropper, [{\n    key: 'init',\n    value: function init() {\n      var element = this.element;\n\n      var tagName = element.tagName.toLowerCase();\n      var url = void 0;\n\n      if (getData(element, NAMESPACE)) {\n        return;\n      }\n\n      setData(element, NAMESPACE, this);\n\n      if (tagName === 'img') {\n        this.isImg = true;\n\n        // e.g.: \"img/picture.jpg\"\n        url = element.getAttribute('src') || '';\n        this.originalUrl = url;\n\n        // Stop when it's a blank image\n        if (!url) {\n          return;\n        }\n\n        // e.g.: \"http://example.com/img/picture.jpg\"\n        url = element.src;\n      } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n        url = element.toDataURL();\n      }\n\n      this.load(url);\n    }\n  }, {\n    key: 'load',\n    value: function load(url) {\n      var _this = this;\n\n      if (!url) {\n        return;\n      }\n\n      this.url = url;\n      this.imageData = {};\n\n      var element = this.element,\n          options = this.options;\n\n\n      if (!options.checkOrientation || !window.ArrayBuffer) {\n        this.clone();\n        return;\n      }\n\n      // XMLHttpRequest disallows to open a Data URL in some browsers like IE11 and Safari\n      if (REGEXP_DATA_URL.test(url)) {\n        if (REGEXP_DATA_URL_JPEG.test(url)) {\n          this.read(dataURLToArrayBuffer(url));\n        } else {\n          this.clone();\n        }\n\n        return;\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      this.reloading = true;\n      this.xhr = xhr;\n\n      var done = function done() {\n        _this.reloading = false;\n        _this.xhr = null;\n      };\n\n      xhr.ontimeout = done;\n      xhr.onabort = done;\n      xhr.onerror = function () {\n        done();\n        _this.clone();\n      };\n\n      xhr.onload = function () {\n        done();\n        _this.read(xhr.response);\n      };\n\n      // Bust cache when there is a \"crossOrigin\" property\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n        url = addTimestamp(url);\n      }\n\n      xhr.open('get', url);\n      xhr.responseType = 'arraybuffer';\n      xhr.withCredentials = element.crossOrigin === 'use-credentials';\n      xhr.send();\n    }\n  }, {\n    key: 'read',\n    value: function read(arrayBuffer) {\n      var options = this.options,\n          imageData = this.imageData;\n\n      var orientation = getOrientation(arrayBuffer);\n      var rotate = 0;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (orientation > 1) {\n        this.url = arrayBufferToDataURL(arrayBuffer, 'image/jpeg');\n\n        var _parseOrientation = parseOrientation(orientation);\n\n        rotate = _parseOrientation.rotate;\n        scaleX = _parseOrientation.scaleX;\n        scaleY = _parseOrientation.scaleY;\n      }\n\n      if (options.rotatable) {\n        imageData.rotate = rotate;\n      }\n\n      if (options.scalable) {\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n      }\n\n      this.clone();\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var element = this.element,\n          url = this.url;\n\n      var crossOrigin = void 0;\n      var crossOriginUrl = void 0;\n\n      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n        crossOrigin = element.crossOrigin;\n\n\n        if (crossOrigin) {\n          crossOriginUrl = url;\n        } else {\n          crossOrigin = 'anonymous';\n\n          // Bust cache when there is not a \"crossOrigin\" property\n          crossOriginUrl = addTimestamp(url);\n        }\n      }\n\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = crossOriginUrl || url;\n\n      var start = this.start.bind(this);\n      var stop = this.stop.bind(this);\n\n      this.image = image;\n      this.onStart = start;\n      this.onStop = stop;\n\n      if (this.isImg) {\n        if (element.complete) {\n          // start asynchronously to keep `this.cropper` is accessible in `ready` event handler.\n          this.timeout = setTimeout(start, 0);\n        } else {\n          addListener(element, EVENT_LOAD, start, {\n            once: true\n          });\n        }\n      } else {\n        image.onload = start;\n        image.onerror = stop;\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }\n  }, {\n    key: 'start',\n    value: function start(event) {\n      var _this2 = this;\n\n      var image = this.isImg ? this.element : this.image;\n\n      if (event) {\n        image.onload = null;\n        image.onerror = null;\n      }\n\n      this.sizing = true;\n\n      var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n      var done = function done(naturalWidth, naturalHeight) {\n        assign(_this2.imageData, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n        _this2.sizing = false;\n        _this2.sized = true;\n        _this2.build();\n      };\n\n      // Modern browsers (except Safari)\n      if (image.naturalWidth && !IS_SAFARI) {\n        done(image.naturalWidth, image.naturalHeight);\n        return;\n      }\n\n      var sizingImage = document.createElement('img');\n      var body = document.body || document.documentElement;\n\n      this.sizingImage = sizingImage;\n\n      sizingImage.onload = function () {\n        done(sizingImage.width, sizingImage.height);\n\n        if (!IS_SAFARI) {\n          body.removeChild(sizingImage);\n        }\n      };\n\n      sizingImage.src = image.src;\n\n      // iOS Safari will convert the image automatically\n      // with its orientation once append it into DOM (#279)\n      if (!IS_SAFARI) {\n        sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n        body.appendChild(sizingImage);\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var image = this.image;\n\n\n      image.onload = null;\n      image.onerror = null;\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }, {\n    key: 'build',\n    value: function build() {\n      if (!this.sized || this.ready) {\n        return;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image;\n\n      // Create cropper elements\n\n      var container = element.parentNode;\n      var template = document.createElement('div');\n\n      template.innerHTML = TEMPLATE;\n\n      var cropper = template.querySelector('.' + NAMESPACE + '-container');\n      var canvas = cropper.querySelector('.' + NAMESPACE + '-canvas');\n      var dragBox = cropper.querySelector('.' + NAMESPACE + '-drag-box');\n      var cropBox = cropper.querySelector('.' + NAMESPACE + '-crop-box');\n      var face = cropBox.querySelector('.' + NAMESPACE + '-face');\n\n      this.container = container;\n      this.cropper = cropper;\n      this.canvas = canvas;\n      this.dragBox = dragBox;\n      this.cropBox = cropBox;\n      this.viewBox = cropper.querySelector('.' + NAMESPACE + '-view-box');\n      this.face = face;\n\n      canvas.appendChild(image);\n\n      // Hide the original image\n      addClass(element, CLASS_HIDDEN);\n\n      // Inserts the cropper after to the current image\n      container.insertBefore(cropper, element.nextSibling);\n\n      // Show the image if is hidden\n      if (!this.isImg) {\n        removeClass(image, CLASS_HIDE);\n      }\n\n      this.initPreview();\n      this.bind();\n\n      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n\n      addClass(cropBox, CLASS_HIDDEN);\n\n      if (!options.guides) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-dashed'), CLASS_HIDDEN);\n      }\n\n      if (!options.center) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-center'), CLASS_HIDDEN);\n      }\n\n      if (options.background) {\n        addClass(cropper, NAMESPACE + '-bg');\n      }\n\n      if (!options.highlight) {\n        addClass(face, CLASS_INVISIBLE);\n      }\n\n      if (options.cropBoxMovable) {\n        addClass(face, CLASS_MOVE);\n        setData(face, DATA_ACTION, ACTION_ALL);\n      }\n\n      if (!options.cropBoxResizable) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-line'), CLASS_HIDDEN);\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-point'), CLASS_HIDDEN);\n      }\n\n      this.render();\n      this.ready = true;\n      this.setDragMode(options.dragMode);\n\n      if (options.autoCrop) {\n        this.crop();\n      }\n\n      this.setData(options.data);\n\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: 'unbuild',\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n\n      this.ready = false;\n      this.unbind();\n      this.resetPreview();\n      this.cropper.parentNode.removeChild(this.cropper);\n      removeClass(this.element, CLASS_HIDDEN);\n    }\n  }, {\n    key: 'uncreate',\n    value: function uncreate() {\n      var element = this.element;\n\n\n      if (this.ready) {\n        this.unbuild();\n        this.ready = false;\n        this.cropped = false;\n      } else if (this.sizing) {\n        this.sizingImage.onload = null;\n        this.sizing = false;\n        this.sized = false;\n      } else if (this.reloading) {\n        this.xhr.abort();\n      } else if (this.isImg) {\n        if (element.complete) {\n          clearTimeout(this.timeout);\n        } else {\n          removeListener(element, EVENT_LOAD, this.onStart);\n        }\n      } else if (this.image) {\n        this.stop();\n      }\n    }\n\n    /**\n     * Get the no conflict cropper class.\n     * @returns {Cropper} The cropper class.\n     */\n\n  }], [{\n    key: 'noConflict',\n    value: function noConflict() {\n      window.Cropper = AnotherCropper;\n      return Cropper;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: 'setDefaults',\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n  return Cropper;\n}();\n\nassign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\nif ($.fn) {\n  var AnotherCropper$1 = $.fn.cropper;\n  var NAMESPACE$1 = 'cropper';\n\n  $.fn.cropper = function jQueryCropper(option) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var result = void 0;\n\n    this.each(function (i, element) {\n      var $element = $(element);\n      var isDestroy = option === 'destroy';\n      var cropper = $element.data(NAMESPACE$1);\n\n      if (!cropper) {\n        if (isDestroy) {\n          return;\n        }\n\n        var options = $.extend({}, $element.data(), $.isPlainObject(option) && option);\n\n        cropper = new Cropper(element, options);\n        $element.data(NAMESPACE$1, cropper);\n      }\n\n      if (typeof option === 'string') {\n        var fn = cropper[option];\n\n        if ($.isFunction(fn)) {\n          result = fn.apply(cropper, args);\n\n          if (result === cropper) {\n            result = undefined;\n          }\n\n          if (isDestroy) {\n            $element.removeData(NAMESPACE$1);\n          }\n        }\n      }\n    });\n\n    return result !== undefined ? result : this;\n  };\n\n  $.fn.cropper.Constructor = Cropper;\n  $.fn.cropper.setDefaults = Cropper.setDefaults;\n  $.fn.cropper.noConflict = function noConflict() {\n    $.fn.cropper = AnotherCropper$1;\n    return this;\n  };\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cropper-container\":\"cropper-container\",\"cropper-wrap-box\":\"cropper-wrap-box\",\"cropper-canvas\":\"cropper-canvas\",\"cropper-drag-box\":\"cropper-drag-box\",\"cropper-crop-box\":\"cropper-crop-box\",\"cropper-modal\":\"cropper-modal\",\"cropper-view-box\":\"cropper-view-box\",\"cropper-dashed\":\"cropper-dashed\",\"dashed-h\":\"dashed-h\",\"dashed-v\":\"dashed-v\",\"cropper-center\":\"cropper-center\",\"cropper-face\":\"cropper-face\",\"cropper-line\":\"cropper-line\",\"cropper-point\":\"cropper-point\",\"line-e\":\"line-e\",\"line-n\":\"line-n\",\"line-w\":\"line-w\",\"line-s\":\"line-s\",\"point-e\":\"point-e\",\"point-n\":\"point-n\",\"point-w\":\"point-w\",\"point-s\":\"point-s\",\"point-ne\":\"point-ne\",\"point-nw\":\"point-nw\",\"point-sw\":\"point-sw\",\"point-se\":\"point-se\",\"cropper-invisible\":\"cropper-invisible\",\"cropper-bg\":\"cropper-bg\",\"cropper-hide\":\"cropper-hide\",\"cropper-hidden\":\"cropper-hidden\",\"cropper-move\":\"cropper-move\",\"cropper-crop\":\"cropper-crop\",\"cropper-disabled\":\"cropper-disabled\"};","/**\r\n * @author 杰瑞\r\n * @param children\r\n * @returns {JQuery<TElement extends Node> | jQuery | HTMLElement}\r\n */\r\n$.fn.appendLink=function (children) {\r\n    var contents;\r\n    if(typeof children==='string'){\r\n        contents=$(children)\r\n\r\n    }else{\r\n        contents=children;\r\n    }\r\n    this.append(contents)\r\n    return $(contents);\r\n\r\n}","\r\nclass Component {\r\n    props:any = {};\r\n    state = {};\r\n    container:HTMLElement;\r\n    constructor(props) {\r\n        this.props = this.constructor.defaultProps?{...this.constructor.defaultProps,...props}:props;\r\n        this.container=this.props.container;\r\n    }\r\n    mergeClassName(...classNames){\r\n        var re=''\r\n        for(var classname of  classNames){\r\n            re=classname?re+' '+classname:re;\r\n        }\r\n        return re;\r\n    }\r\n}\r\nexport declare interface CommonProps{\r\n    style?:object,\r\n    className?:string,\r\n    container:HTMLElement,\r\n}\r\nexport default Component","function getFileURL(fileorinput){\r\n\r\n    var url;\r\n    if (navigator.userAgent.indexOf(\"MSIE\")>=1) { // IE\r\n        url = fileorinput.value;\r\n    } else if(navigator.userAgent.indexOf(\"Firefox\")>0) { // Firefox\r\n        url = window.URL.createObjectURL(fileorinput);\r\n    } else if(navigator.userAgent.indexOf(\"Chrome\")>0) { // Chrome\r\n        url = window.URL.createObjectURL(fileorinput);\r\n    }\r\n    return url;\r\n\r\n}\r\n\r\nmodule.exports=getFileURL;","import Component, {CommonProps} from '../component/component.ts'\r\nimport '../appendLink/appendLink'\r\nimport styles from './styles.css'\r\n\r\n\r\ninterface JtFileDraggerProps extends CommonProps {\r\n    accept?: string,\r\n    multi?: boolean,\r\n    displayList?: boolean,\r\n    onFileChange?: (file: File[] | File) => void,\r\n    text?: string,\r\n    dragArea?: boolean,\r\n}\r\n\r\nclass JtFileDragger extends Component {\r\n    board = null;\r\n    static defaultProps = {\r\n        text: '上传文件',\r\n        displayList: true,\r\n        multi: false,\r\n        dragArea: true,\r\n    }\r\n    $input = null;\r\n    $dragArea = null;\r\n    $btn = null;\r\n    $list = null;\r\n    state = {\r\n        files: []\r\n    }\r\n\r\n    handlerFileChange(files) {\r\n        this.props.onFileChange ? this.props.onFileChange.call(this, files) : null\r\n    }\r\n\r\n    rerangeList() {\r\n        if (!this.props.displayList) {\r\n            return;\r\n        }\r\n        this.$list.children().remove();\r\n        this.state.files.forEach((file) => {\r\n            this.$list.appendLink('<div></div>').addClass(styles.fileItem).text(file.name).appendLink('<span></span>')\r\n                .click((e) => {\r\n                    this.removeFile(file);\r\n                })\r\n                .addClass(this.mergeClassName('fas fa-minus-circle', styles.deleteBtn));\r\n        })\r\n\r\n    }\r\n\r\n    removeFile(file) {\r\n        if (this.props.multi) {\r\n            var stateFiles = this.state.files;\r\n            if (stateFiles) {\r\n                var nStateFiles = [];\r\n                stateFiles.forEach((stateFile, index) => {\r\n                    if (stateFile !== file) {\r\n                        nStateFiles.push(stateFile);\r\n                    }\r\n                })\r\n                this.state.files = nStateFiles;\r\n                this.$input.val(null);\r\n                this.handlerFileChange(this.state.files)\r\n                this.rerangeList();\r\n            }\r\n        } else {\r\n            var stateFile = this.state.files[0];\r\n            if (stateFile && stateFile === file) {\r\n                this.state.files = [];\r\n                this.$input.val(null);\r\n                this.handlerFileChange(this.state.files[0])\r\n                this.rerangeList();\r\n            }\r\n        }\r\n    }\r\n\r\n    measureFile(files, multiCallback, singleCallback) {\r\n        if (this.props.multi) {\r\n            var stateFiles = this.state.files;\r\n            if (!stateFiles) {\r\n                stateFiles = [];\r\n            }\r\n            for (var i = 0; i < files.length; i++) {\r\n                var file = files[i]\r\n                if (!stateFiles.find((stateFile) => {\r\n                        return stateFile.name === file.name\r\n                    })) {\r\n                    stateFiles.push(file);\r\n                }\r\n            }\r\n            this.state.files = stateFiles;\r\n            this.$input.val(null);\r\n            this.handlerFileChange(this.state.files)\r\n            multiCallback ? multiCallback() : null;\r\n        } else {\r\n            var stateFile = this.state.files[0];\r\n            if (!stateFile || stateFile.name !== files[0].name) {\r\n                stateFile = files[0];\r\n            }\r\n            this.state.files = [stateFile]\r\n            this.$input.val(null);\r\n            this.handlerFileChange(this.state.files[0])\r\n            singleCallback ? singleCallback() : null;\r\n        }\r\n    }\r\n\r\n    addFiles(files) {\r\n        this.measureFile(files, () => {\r\n            this.rerangeList();\r\n        }, () => {\r\n            this.rerangeList();\r\n        })\r\n    }\r\n    showDragArea(){\r\n        this.$btn.hide();\r\n        this.$dragArea.show();\r\n    }\r\n    hideDragArea(){\r\n        this.$btn.show();\r\n        this.$dragArea.hide();\r\n    }\r\n    constructor(props: JtFileDraggerProps) {\r\n        super(props);\r\n        this.board = document.createElement('div');\r\n        $(props.container).append(this.board);\r\n        var $board = $(this.board), props = this.props;\r\n        $board.addClass(this.mergeClassName(props.className))\r\n        if (props.style)\r\n            $board.css(props.style);\r\n        this.$input = $board.appendLink('<input type=\"file\" hidden/>')\r\n            .attr('accept', props.accept).attr('multiple', this.props.multi)\r\n            .change((e) => {\r\n                var files = e.target.files;\r\n                this.addFiles(files);\r\n            });\r\n            this.$dragArea = $board.appendLink('<div></div>').addClass(styles.upLoadCoverDragBox)\r\n                .on('click',()=>{\r\n                    this.$input.click()\r\n                })\r\n                .on('dragenter', (e) => {\r\n                e.originalEvent.preventDefault()\r\n            }).on('dragover', (e) => {\r\n                e.originalEvent.preventDefault();\r\n                this.$dragArea.addClass(styles.upLoadDragOver)\r\n            }).on('dragleave', (e) => {\r\n                e.originalEvent.preventDefault();\r\n                this.$dragArea.removeClass(styles.upLoadDragOver)\r\n            }).on('drop', (e) => {\r\n                e.originalEvent.preventDefault()\r\n                this.$dragArea.removeClass(styles.upLoadDragOver)\r\n                e.originalEvent.dataTransfer.dropEffect = 'move';\r\n                var files = e.originalEvent.dataTransfer.files\r\n                this.addFiles(files)\r\n            });\r\n            var $dragContent = this.$dragArea.appendLink('<div></div>').addClass(styles.dragContent);\r\n            $dragContent.appendLink('<p></p>').addClass(this.mergeClassName('fas fa-upload', styles.uploadIcon));\r\n            $dragContent.appendLink('<p></p>').text(this.props.text);\r\n            $dragContent.appendLink('<p></p>').text('拖动到此处或点击');\r\n            this.$btn = $board.appendLink('<button></button>').addClass(styles.uploadBtn).text(this.props.text).click(() => {\r\n                this.$input.click();\r\n                return false;\r\n            })\r\n            if(this.props.dragArea){\r\n                this.$btn.hide();\r\n            }else{\r\n                this.$dragArea.hide();\r\n            }\r\n        if (this.props.displayList) {\r\n            this.$list = $board.appendLink('<div></div>').addClass(styles.uploadFileList);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n$.fn.jtFileDragger = function (options: any) {\r\n    var re=[];\r\n    this.each(function (index, el) {\r\n        var dragger=new JtFileDragger({container: el, ...options});\r\n        re.push(dragger)\r\n    })\r\n    return re;\r\n}\r\nexport default JtFileDragger;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"divider\",\"uploadBtn\":\"uploadBtn\",\"upLoadCoverDragBox\":\"upLoadCoverDragBox\",\"dragContent\":\"dragContent\",\"uploadIcon\":\"uploadIcon\",\"upLoadDragOver\":\"upLoadDragOver\",\"uploadFileList\":\"uploadFileList\",\"fileItem\":\"fileItem\",\"deleteBtn\":\"deleteBtn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"divider\",\"jtCropperBoard\":\"jtCropperBoard\",\"jtCropperImageContainer\":\"jtCropperImageContainer\",\"cropperCanvasContainer\":\"cropperCanvasContainer\",\"previewContianer\":\"previewContianer\",\"previewContent\":\"previewContent\",\"submitContainer\":\"submitContainer\",\"submitBtn\":\"submitBtn\"};","import Component, {CommonProps} from '../component/component.ts'\r\nimport '../appendLink/appendLink'\r\nimport '../jt-file-dragger/jt-file-dragger.ts';\r\nimport 'cropper';\r\nimport getFileURL from '../getFileURL/getFileURL.js';\r\nimport styles from './jtCropper.css'\r\nimport 'cropperjs/dist/cropper.css'\r\n\r\ninterface CropperProps extends CommonProps {\r\n    cropperOptions: any,\r\n    onChange:(base64str:string)=>void\r\n}\r\n\r\nclass JtCropper extends Component {\r\n    board = null;\r\n    dragger = null;\r\n    file: File = null;\r\n    imageEl: HTMLImageElement = null;\r\n    cropper = null;\r\n    init=false;\r\n    previewEl = null;\r\n    $cropperContainer = null;\r\n    submitImage(){\r\n        var base64str=$(this.imageEl).cropper('getCroppedCanvas').toDataURL('image/jpeg')\r\n        this.handleChange(base64str);\r\n    }\r\n    handleChange(base64str){\r\n        this.props.onChange?this.props.onChange(base64str):null;\r\n    }\r\n    constructor(props: CropperProps) {\r\n        super(props);\r\n        this.board = document.createElement('div');\r\n        $(props.container).append(this.board);\r\n        var $board = $(this.board);\r\n        $board.addClass(this.mergeClassName(styles.jtCropperBoard, props.className));\r\n        if (props.style)\r\n            $board.css(props.style);\r\n\r\n        this.dragger = $board.jtFileDragger({\r\n            displayList: false, onFileChange: (files) => {\r\n                this.file = files;\r\n                if(this.init){\r\n                    $(this.imageEl).cropper('replace',getFileURL(files))\r\n                }else {\r\n                    $(this.imageEl).attr('src', getFileURL(files));\r\n                    $(this.imageEl).cropper({preview: this.previewEl, ...this.props.cropperOptions})\r\n                    this.dragger[0].hideDragArea();\r\n                    this.$cropperContainer.show();\r\n                    $board.appendLink('<div></div>').addClass(styles.submitContainer).appendLink('<button>确认</button>')\r\n                        .addClass(styles.submitBtn)\r\n                        .on('click',(e)=>{\r\n                            this.submitImage();\r\n                            return false;\r\n                        })\r\n                    this.init = true;\r\n                }\r\n            }\r\n        });\r\n        this.$cropperContainer = $board.appendLink('<div></div>').addClass(styles.jtCropperImageContainer).hide();\r\n        this.imageEl = this.$cropperContainer.appendLink('<div></div>')\r\n            .addClass(styles.cropperCanvasContainer).appendLink('<img/>').hide()[0];\r\n        this.previewEl = this.$cropperContainer.appendLink('<div></div>').addClass(styles.previewContianer)\r\n            .appendLink('<div></div>').addClass(styles.previewContent)[0];\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n$.fn.jtCropper = function (options: any) {\r\n    this.each(function (index, el) {\r\n        new JtCropper({container: el, ...options});\r\n    })\r\n}\r\nexport default JtCropper;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"divider\",\"jtFormBoard\":\"jtFormBoard\",\"jtFormRow\":\"jtFormRow\",\"jtFormItem\":\"jtFormItem\",\"jtFormLabelWrap\":\"jtFormLabelWrap\",\"labelContent\":\"labelContent\",\"required\":\"required\",\"jtFormFieldWrap\":\"jtFormFieldWrap\",\"jtFormField\":\"jtFormField\",\"fieldCheck\":\"fieldCheck\",\"errorMessage\":\"errorMessage\",\"correct\":\"correct\",\"error\":\"error\",\"submitBtnRow\":\"submitBtnRow\",\"submitBtn\":\"submitBtn\"};","import Component, {CommonProps} from '../component/component.ts'\r\nimport ruleGen from 'async-validator'\r\nimport '../appendLink/appendLink'\r\nimport styles from './jtForm.css';\r\nimport '../jt-file-dragger/jt-file-dragger.ts'\r\nimport '../jtCropper/jtCropper.ts'\r\n\r\ninterface ruleType {\r\n    required?: boolean,\r\n    pattern?: RegExp,\r\n    length?: number,\r\n    message?: string,\r\n    validator?: (rule, value, callback) => void,\r\n}\r\n\r\ninterface fieldProps {\r\n    name: string,\r\n    type: 'text' | 'number' | 'file' | 'image',\r\n    fieldProps?: object,\r\n    label?: string,\r\n    widthRatio?: number,\r\n    layout?: { label: number, field: number }\r\n    initialValue?: string,\r\n    rules?: ruleType | ruleType[],\r\n    trigger: string,\r\n    validateTrigger?: string | string[]\r\n}\r\n\r\ninterface JtFormProps extends CommonProps {\r\n    map: (fieldProps | fieldProps[])[],\r\n    validateFirst?: boolean,\r\n    validateFirstFields?: boolean,\r\n    submitText?: string,\r\n}\r\n\r\nclass JtForm extends Component {\r\n    static defaultLayout={\r\n        label:0.1,\r\n        field:0.9,\r\n    }\r\n    static defaultProps = {\r\n        validateFirst: false,\r\n        validateFirstFields: false,\r\n        submitText: '提交',\r\n    }\r\n    board = null;\r\n    formData: any = {};\r\n    validateObj: any = {};\r\n    validateSchema: any = null;\r\n\r\n    validate(obj, field) {\r\n        this.validateSchema.validate(obj, {\r\n            first: this.props.validateFirst,\r\n            firstFields: this.props.validateFirstFields\r\n        }, (errors, fields) => {\r\n            console.log(errors);\r\n            if (errors) {\r\n                var tarerror = errors.find((error) => error.field === field.name)\r\n                if (tarerror) {\r\n                    this.formData[tarerror.field].$fieldWrap.addClass('error');\r\n                    this.formData[tarerror.field].$fieldMessage.text(tarerror.message);\r\n                } else {\r\n                    this.formData[field.name].$fieldWrap.removeClass('error').addClass('correct');\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    eachField(field: fieldProps, $rootEl: JQuery, count: number) {\r\n        this.formData[field.name] = {};\r\n        this.formData[field.name].value = field.initialValue !== null || field.initialValue !== undefined ? field.initialValue : null;\r\n        this.validateObj[field.name] = field.rules;\r\n        var $formItem = $rootEl.appendLink('<div></div>').css({\r\n            position: 'relative',\r\n            width: field.widthRatio ? field.widthRatio * 100 + '%' : 100 / count + '%'\r\n        }).addClass(styles.jtFormItem);\r\n        var labelRat = 0;\r\n        labelRat = field.layout && typeof(field.layout.label) === 'number' ? field.layout.label : JtForm.defaultLayout.label;\r\n        var $labelWrap = $formItem.appendLink('<span></span>').addClass(styles.jtFormLabelWrap)\r\n            .css({display: 'inline-block', position: 'absolute', textAlign: 'right', width: 100 * labelRat + '%'});\r\n        this.formData[field.name].$label = $labelWrap;\r\n\r\n        var $label = $labelWrap.appendLink('<label></label>').attr('title',field.label).addClass(styles.labelContent).text(field.label);\r\n        var requiredRule;\r\n        if (field.rules instanceof Array) {\r\n            requiredRule = field.rules.find((rule) => rule.required === true);\r\n        } else {\r\n            requiredRule = field.rules.required === true ? field.rules : null;\r\n        }\r\n        if (requiredRule) {\r\n            $label.addClass('required');\r\n        }\r\n        var fieldRat = field.layout && typeof(field.layout.field) === 'number' ? field.layout.field :JtForm.defaultLayout.field;\r\n        var $fieldWrap = $formItem.appendLink('<span></span>').addClass(styles.jtFormFieldWrap).css({\r\n            display: 'inline-block', marginLeft: 100 * (1-fieldRat) + '%',\r\n            width: 100 * fieldRat + '%'\r\n        })\r\n        this.formData[field.name].$fieldWrap = $fieldWrap;\r\n        this.formData[field.name].$fieldMessage = $fieldWrap.appendLink('<span></span>').addClass(styles.errorMessage);\r\n        this.formData[field.name].$fieldCheck = $fieldWrap.appendLink('<span></span>')\r\n            .addClass(this.mergeClassName('fas fa-check-circle', styles.fieldCheck));\r\n        var $field;\r\n        switch (field.type) {\r\n            case 'text':\r\n                $field = $fieldWrap.appendLink('<input/>').addClass(styles.jtFormField).val(this.formData[field.name].value);\r\n                var trigger = field.trigger || 'change';\r\n                var validateTrigger = field.validateTrigger || 'blur';\r\n                $field.on(trigger, (e) => {\r\n                    var value = e.target.value;\r\n                    this.formData[field.name].value = value;\r\n                }).on(validateTrigger, (e) => {\r\n                    var value = this.formData[field.name].value\r\n                    var va = {};\r\n                    va[field.name] = value;\r\n                    this.validate(va, field);\r\n                })\r\n                if (field.fieldProps) {\r\n                    for (var attrIndex in field.fieldProps) {\r\n                        $field.attr(attrIndex, field.fieldProps[attrIndex]);\r\n                    }\r\n                }\r\n                break;\r\n            case 'file':\r\n                var fileProps = {\r\n                    onFileChange: (files) => {\r\n                        this.formData[field.name].value = files;\r\n                        var va = {};\r\n                        va[field.name] = files;\r\n                        this.validate(va, field);\r\n                    }, className: styles.jtFormField, ...field.fieldProps\r\n                }\r\n                $fieldWrap.jtFileDragger(fileProps);\r\n                break;\r\n            case 'image':\r\n                $fieldWrap.jtCropper({\r\n                    onChange: (base64str) => {\r\n                        this.formData[field.name].value = base64str;\r\n                        var va = {};\r\n                        va[field.name] = base64str;\r\n                        this.validate(va, field);\r\n                    }\r\n                });\r\n                break;\r\n\r\n        }\r\n        this.formData[field.name].$field = $field;\r\n\r\n    }\r\n\r\n    constructor(props: JtFormProps) {\r\n        super(props);\r\n        this.board = document.createElement('form');\r\n        $(props.container).append(this.board);\r\n        $(this.board).addClass(this.mergeClassName(styles.jtFormBoard, props.className))\r\n        if (props.style)\r\n            $(this.board).css(props.style)\r\n        this.props.map.forEach((field, num) => {\r\n            var $row = $(this.board).appendLink('<div></div>').addClass(styles.jtFormRow);\r\n            if (field instanceof Array) {\r\n                field.forEach((f, index) => {\r\n                    this.eachField(f, $row, field.length);\r\n                })\r\n            } else {\r\n                this.eachField(field, $row, 1);\r\n            }\r\n        });\r\n        this.validateSchema = new ruleGen(this.validateObj);\r\n        $(this.board).appendLink('<div></div>').addClass(styles.submitBtnRow)\r\n            .appendLink('<button></button>').text(this.props.submitText).addClass(styles.submitBtn);\r\n    }\r\n}\r\n\r\n$.fn.jtForm = function (options: any) {\r\n    this.each(function (index, el) {\r\n        new JtForm({container: el, ...options});\r\n    })\r\n}\r\n\r\nexport default JtForm","module.exports = $;"],"sourceRoot":""}